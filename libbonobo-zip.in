#!/bin/sh

# Build zipfiles for libbonobo on Win32. Separate runtime and
# developer ones. Run after make install.

ZIP=/tmp/libbonobo-@VERSION@.zip
DEVZIP=/tmp/libbonobo-dev-@VERSION@.zip

cd @prefix@
rm $ZIP

zip $ZIP -@ <<EOF
COPYING
COPYING.LIB-2
bin/libbonobo-2-0.dll
bin/libbonobo-activation-4.dll
bin/activation-client.exe
sbin/bonobo-activation-sysconf.exe
libexec/bonobo-activation-server.exe
lib/bonobo/servers/Bonobo_CosNaming_NamingContext.server
lib/bonobo/servers/Bonobo_Moniker_std.server
lib/bonobo/monikers/libmoniker_std_2.dll
etc/bonobo-activation/bonobo-activation-config.xml
EOF

zip $ZIP lib/locale/*/LC_MESSAGES/libbonobo-2.0.mo

rm $DEVZIP
zip -r $DEVZIP -@ <<EOF
bin/echo-client-2.exe
include/libbonobo-2.0
include/bonobo-activation-2.0
lib/libbonobo-2.dll.a
lib/libbonobo-activation.dll.a
share/idl/bonobo-2.0
share/idl/bonobo-activation-2.0
lib/bonobo/servers/Bonobo_Sample_Echo.server
lib/pkgconfig/libbonobo-2.0.pc
lib/pkgconfig/bonobo-activation-2.0.pc
lib/orbit-2.0/Bonobo_module.dll
share/gtk-doc/html/libbonobo
share/gtk-doc/html/bonobo-activation
man/man1/bonobo-activation-server.1
EOF
