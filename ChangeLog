2003-06-12  Michael Meeks  <michael@ximian.com>

	* Version 2.2.3

2003-06-10  Dan Winship  <danw@ximian.com>

	* bonobo/bonobo-property-bag-client.h: Oops, fix prototype too

2003-06-09  Dan Winship  <danw@ximian.com>

	* bonobo/bonobo-property-bag-client.c
	(bonobo_pbclient_set_boolean): another gboolean vs CORBA_boolean
	bug.

2003-05-29  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-property-bag-client.c
	(bonobo_pbclient_get_boolean): fix a nasty with
	CORBA_boolean vs. 'gboolean'.

2003-05-20  Telsa Gwymme  <hobbit@aloss.ukuu.org.uk>

	* configure.on: Added cy (Welsh) to ALL_LINGUAS.

2003-05-19  Michael Meeks  <michael@ximian.com>

	* Version 2.2.2

2003-05-05  Christian Rose  <menthos@menthos.com>

	* configure.in: Added sr and sr@Latn to ALL_LINGUAS.

2003-04-08  Raphael Finkel <raphael@cs.uky.edu>

	* configure.in: Added "yi" in ALL_LINGUAS

2003-03-21  Guntupalli Karunakar  <karunakar@freedomink.org>

	* configure.in: Added "ml" in ALL_LINGUAS

2003-03-14  Michael Meeks  <michael@ximian.com>

	* Version 2.2.1

2003-03-11  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* bonobo/bonobo-macros.h (BONOBO_BOILERPLATE): insert explicit
	casts in class_init_trampoline for C++ compatibility

	* bonobo/bonobo-arg.h (BONOBO_ARG_GET_STRING)
	(BONOBO_ARG_SET_STRING): disable typechecks for
	__STRICT_ANSI__ and C++

2003-03-08  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "eo" to ALL_LINGUAS.

2003-03-07  Bill Haneman <bill.haneman@sun.com>

	* idl/Bonobo.idl:
	* idl/Bonobo_Property.idl:
	Replaced #if !defined(FOO) with #ifndef(FOO), for more
	IDL portability.  Fixes bug #107729.

2003-02-28  Hidetoshi Tajima <hidetoshi.tajima@sun.com>

	* bonobo/bonobo-exception.c (BONOBO_EXPLICIT_TRANSLATION_DOMAIN):
	* bonobo/bonobo-moniker.c (BONOBO_EXPLICIT_TRANSLATION_DOMAIN):
	* bonobo/bonobo-moniker-util.c (BONOBO_EXPLICIT_TRANSLATION_DOMAIN):
	use GETTEXT_PACKAGE instead of PACKAGE (#107228).
	Michael: back-port - got missed somehow.

2003-03-04  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-arg.h: update macros.

2003-02-19  Gustavo J. A. M. Carneiro  <gustavo@users.sourceforge.net>

	* monikers/bonobo-moniker-std.c (bonobo_std_moniker_factory): idem.

	* monikers/bonobo-moniker-oaf.c (bonobo_moniker_oaf_resolve): idem.

	* monikers/bonobo-moniker-new.c (bonobo_moniker_new_resolve): idem.

	* monikers/bonobo-moniker-item.c (bonobo_moniker_item_resolve): idem.

	* monikers/bonobo-moniker-query.c (bonobo_moniker_query_resolve): idem.

	* monikers/bonobo-moniker-extender-stream.c (bonobo_stream_extender_resolve):
	Wrap g_warnings and g_messages in #ifdef G_ENABLE_DEBUG / #endif.

2003-02-18  Gustavo J. A. M. Carneiro  <gustavo@users.sourceforge.net>

	* doc/api/tmpl/bonobo-item-handler.sgml: Corrected the
	BonoboItemHandler example to ref() the object being returned.

	* monikers/bonobo-moniker-extender-stream.c (bonobo_stream_extender_resolve):
	Replace a couple of invalid uses of g_warning with g_message.

2003-02-06  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "id" to ALL_LINGUAS.

2003-02-05  Gustavo J. A. M. Carneiro  <gustavo@users.sourceforge.net>

	* doc/api/libbonobo-docs.sgml: Include monikers-overview.xml. This
	file is a simple conversion of doc/Monikers from bonobo-1.x
	distribution. It was written quite some time ago, but most of it
	still applies and provides fascinating insight on bonobo moniker
	architecture.

	* doc/api/Makefile.am (content_files): Added monikers-overview.xml.

2003-02-03  Gustavo J. A. M. Carneiro  <gustavo@users.sourceforge.net>

	* doc/api/libbonobo.hierarchy: Removed from version control, since
	it is a purely generated file.

	* doc/api/libbonobo.signals: Removed from version control, since
	it is a purely generated file.

	* doc/api/tmpl/bonobo-object.sgml: Removed the comment "if you are
	looking to implement a CORBA interface you want to see
	#BonoboXObject"; It doesn't make much sense since libbonobo 2.0.

	* doc/api/libbonobo-sections.txt: Removed the 'bonobo-transient'
	section.

	* doc/api/Makefile.am (HTML_IMAGES): Added unknown.png.

	* doc/api/tmpl/bonobo-object.sgml: Include figure with the
	Bonobo::Unknown interface.

	* doc/api/figures/Makefile.am (diagrams): Added unknown.dia.

2003-01-23  Thomas Vander Stichele <thomas@apestaart.org>

 	* configure.in: fix aclocal maintainer mode 

2003-01-22  Marius Andreiana <marius galuna.ro>

	* configure.in: added 'ro' to ALL_LINGUAS

2003-01-22  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "mn" to ALL_LINGUAS.

2003-01-21  Gustavo J. A. M. Carneiro  <gustavo@users.sourceforge.net>

	* doc/api/Makefile.am (SCAN_OPTIONS): Changed --deprecated-guards
	option value to BONOBO_DISABLE_DEPRECATED, as it should be.

2003-01-20  Michael Meeks  <michael@ximian.com>

	* Version 2.2.0

	* doc/Makefile.am (EXTRA_DIST): ship NAMESPACE

	* doc/api/Makefile.am (content_files): add misc. xml files.

2003-01-20  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added German (de), Farsi (fa),
	Macedonian (mk) and Dutch (nl) to ALL_LINGUAS

2003-01-18  Gustavo J. A. M. Carneiro  <gustavo@users.sourceforge.net>

	* doc/api/libbonobo.types: Declare list of types of GObjecs to be
	scanned.

	* doc/api/Makefile.am: Enable scanning of GObjects for signals,
	parameters, and object hierarchy.

	* bonobo/bonobo-persist.h, bonobo/bonobo-storage-memory.h,
	  bonobo/bonobo-item-container.h, bonobo/bonobo-moniker.h,
	  bonobo/bonobo-listener.h, bonobo/bonobo-event-source.h,
	  bonobo/bonobo-object.h, bonobo/bonobo-running-context.h: Split
	  struct declaration from typedef, otherwise gtkdoc gets confused.

2003-01-16  Daniel Yacob <locales@geez.org>

	* configure.in: added am to ALL_LINGUAS
	
2003-01-07  Gustavo J. A. M. Carneiro  <gustavo@users.sourceforge.net>

	* doc/api/figures/*.png: Added the dia generated png files for
	those who don't have dia installed.

	* doc/api/figures/Makefile.am (%.png): Don't fail if dia is not
	installed.

	* doc/api/Makefile.am (EXTRA_DIST): Don't include $(HTML_IMAGES)
	in EXTRA_DIST, because they are already included in
	doc/api/figures/Makefile.am's EXTRA_DIST.
	(html-build.stamp): Don't fail when copying images to the html dir
	if the image files were not built.

2003-01-06  Gustavo J. A. M. Carneiro  <gustavo@users.sourceforge.net>

	* doc/api/Makefile.am (dist-hook): Replace the 'sgml' directory
	with 'xml'.

2003-01-06  Julio Merino  <jmmv@hispabsd.org>

	* doc/api/Makefile.am (all-local): Add fall-back
	in case of no gtk-doc.

2003-01-06  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* samples/echo/Makefile.am:
	use $(libdir) instead of $(prefix)/lib, for x86-64

2003-01-06  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-arg.h (BONOBO_ARG_GET_GENERAL):
	make these conditional on __STRICT_ANSI__, and
	C++ thanks to James H.

2003-01-02  Gustavo J. A. M. Carneiro  <gustavo@users.sourceforge.net>

	* doc/api/tmpl/bonobo-property-bag.sgml: Added a couple of
	<title>'s to some examples.

	* bonobo/bonobo-types.c (bonobo_closure_invoke): Just added a
	space between '&' and 'retval', because libxml2 (invoked by
	xsltproc, invoked by gtk-doc) doesn't like &amp; followed by
	letters followed by ';' very much. I think this is fixed by now,
	but I'm not sure...

	* configure.in: Require gtk-doc >= 0.10; Added
	doc/api/figures/Makefile to list of processed makefiles.

	* doc/api/libbonobo-docs.sgml: Changed SGML declaration to XML,
	with DocBook 4.1.2. Indented the whole file with xml-lite mode of
	Emacs (4 spaces basic offset). Created the following toplevel
	sections: General; Objects, Factories, Reference Counting;
	Property Bags, Events, Listeners; Monikers; Storages and Streams;
	Persistency; Miscellaneous. Moved the old sections into the
	appropriate toplevel section, based on topic. Also, added the new
	xml files and added the figures at appropriate places.
	
	* doc/simple-moniker-arguments.txt, api/tmpl/bonobo-item-handler.sgml:
	Included this documentation in api/tmpl/bonobo-item-handler.sgml.

	* doc/properties.txt, api/propertis.xml: Moved this
	documentation to api/properties.xml and converted to DocBook.

	* doc/refcounting.txt, api/refcounting.xml: Moved this
	documentation to api/refcounting.xml and converted to DocBook.

	* doc/debugging.txt, api/debugging.xml: Moved this documentation
	to api/debugging.xml and converted to DocBook.

	* doc/FAQ, api/faq.xml: Moved to api/faq.xml and converted to DocBook.

	* doc/api/Makefile.am: Everything below the comment '# Everything
	below here is generic #' has been replaced by that same section in
	the gtk-doc template Makefile.am. Also changed the MKDB_OPTIONS to
	generate xml instead of sgml, so gtk-doc uses the xslt-proc mode
	to generate html instead of jade, which makes this whole process a
	*lot* faster; In addition, declare 'figures' in SUBDIRS.

2002-12-31  Abel Cheung  <maddog@linux.org.hk>

	* monikers/bonobo-moniker-oaf.c: Just 2 typo in
	  translation string; nothing more.

2002-12-17  Gustavo J. A. M. Carneiro <gjc@inescporto.pt>

	* bonobo/bonobo-storage.h,
	* bonobo/bonobo-stream.h: add blurb on why these
	headers are deprecated, and how to do things now.

2002-11-28  Michael Meeks  <michael@ximian.com>

	* Version 2.1.1

2002-11-28  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-i18n.h (bind_textdomain_codeset):
	undef before defining the non-NLS path macros,
	add bind_textdomain_codeset stub.

2002-11-22  Hidetoshi Tajima <hidetoshi.tajima@sun.com>

	* configure.in: check for bind_textdomain_codeset

	* bonobo/bonobo-main.c: use it.

	* monikers/bonobo-moniker-oaf.c: set explicit domain properly.

2002-11-22  Dan Mills  <thunder@vximian.com>

	* configure.in: fixed gtk-doc check.

2002-11-10  Ole Laursen  <olau@hardworking.dk>

	* configure.in: Added da to ALL_LINGUAS.

2002-11-09  Dmitry G. Mastrukov  <dmitry@taurussoft.org>

	* configure.in: Added Belarusian to ALL_LINGUAS

2002-11-05  Michael Meeks  <michael@ximian.com>

	* idl/Bonobo_Listener.idl: fix comments.

2002-11-01  Michael Meeks  <michael@ximian.com>

	* Version 2.1.0

2002-10-28  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-object.c
	(bonobo_object_query_remote): helper wrapper
	for queryInterface.
	(get_unknown_unref_imethod): impl.
	(bonobo_object_release_unref): make these
	unrefs asynchronous for more speed.

	* tests/test-properties-client.c
	(create_bag_client): add test.

	* bonobo/bonobo-property-bag-client.c
	(bonobo_pbclient_set_value_async),
	(get_set_value_imethod): add from eel impl.

	* Branch for 2.1

2002-10-18  Michael Meeks  <michael@ximian.com>

	* Version 2.0.1

2002-10-10  Kjartan Maraas  <kmaraas@gnome.org>

	* bonobo/bonobo-exception.c (bonobo_exception_general_error_set):
	Plug a leak. Fixes #95359.
	
2002-09-30  Stanislav Brabec  <sbrabec@suse.cz>

	* configure.in: Added cs to ALL_LINGUAS.

2002-09-24  hhetter@suse.de

	* bonobo/*.c: replace teminating GType '0' in
	  var-arg argument lists with G_TYPE_INVALID,
	  for 64bit safety.

2002-09-24  Padraig O'Briain <padraig.obriain@sun.com>

	* bonobo/bonobo-main.c: 
	Change bonobo_inited from boolean to int.
	(bonobo_is_initialized): Update to take account that bonobo_inited
	is not an int.
	(bonobo_debug_shutdown): Do shutdown only if bonobo_inited is 1
	(bonobo_init_full): Increment bonobo_inited each time the function
	is called.

	These changes allow bonobo_init() to be called many times and objects
	will be destroyed only after the same number of calls to 
	bonobo_debug_shutdown() are made. This fixes bug 92864.
	
2002-09-23  Michael Meeks  <michael@ximian.com>

	* tests/Makefile.am (LDADD): add LIBBONOBO_LIBS.

2002-09-19  Padraig O'Briain <padraig.obriain@sun.com>

	* samples/echo/Makefile.am:
	Add CLEANFILES so that make clean deletes Bonobo_Sample_echo.server
	and Bonobo_Sample_echo.server.in

2002-09-02  Peteris Krisjanis <peteris.krisjanis@os.lv>

	* configure.in: Added Latvian (lv) to ALL_LINGUAS

2002-08-17  Simos Xenitellis  <simos@hellug.gr>

	* configure.in: Added el to ALL_LINGUAS

2002-07-31  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-persist-file.h: fix docs
	for Michael Wilson.

2002-07-26  Gustavo Noronha Silva  <kov@beterraba>

	* configure.in: added pt_BR to ALL_LINGUAS

2002-06-18  Mark McLoughlin  <mark@skynet.ie>

	* idl/Bonobo_Control.idl: add comment on the
	format of cookie arg to Control::getWindowId.

2002-06-11  Michael Meeks  <michael@ximian.com>

	* configure.in (gnomelocaledir): setup.

2002-06-01  Michael Meeks  <michael@ximian.com>

	* Version 2.0.0

2002-06-01  Michael Meeks  <michael@ximian.com>

	* configure.in: upd, require ORBit2-2.4.0,
	bonobo-activation-1.0.

	* bonobo/Makefile.am: kill PLUGIN_DIR
	add LDFLAGS bits.

	* bonobo/bonobo-object.h: add dummy padding.

	* idl/*.idl: add dummy padding.

2002-05-27  Gustavo Giráldez  <gustavo.giraldez@gmx.net>

	* configure.in: add a --enable-debug parameter to compile the
	debugging code.

2002-05-27  Michael Meeks  <michael@ximian.com>

	* Version 1.117.1

2002-05-27  Michael Meeks  <michael@ximian.com>

	* idl/Bonobo_Persist.idl: make it more clear
	that PersistFile actually passes URIs.

2002-05-20  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-event-source.c
	(bonobo_event_source_finalize): prune code and move it
	(bonobo_event_source_destroy): here, tear down the
	listeners earlier.

	* bonobo/bonobo-listener.c
	(bonobo_listener_destroy): impl. so we don't fire
	events after destroy.
	(bonobo_listener_class_init): upd.

2002-05-20  Michael Meeks  <michael@ximian.com>

	* Version 1.117.0

	* configure.in: remove message-of-doom

	* bonobo/bonobo-debug.c (bonobo_debug_init): change
	env. var to BONOBO_DEBUG, to be consistant with GOBJECT, 
	ORBIT2 etc.

2002-05-16  Michael Meeks  <michael@ximian.com>

	* doc/NAMESPACE: add GNOME_AbiWord

2002-05-13  Jaka Mocnik  <jaka@gnu.org>

	* bonobo/bonobo-debug.[ch]: debugging print function and parsing of
	environment variables BONOBO_DEBUG_FLAGS and BONOBO_DEBUG_DIR in
	order to determine the desired debugging output.
	* bonobo/Makefile.am: compile the new source file.
	* bonobo/bonobo-object.c, bonobo/bonobo-running-context.c:
	instead of conditionally compiling the debugging code, compile
	it always, but only execute it if the appropriate debugging flags
	are set.

2002-05-10  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added Vietnamese (vi) to ALL_LINGUAS

2002-04-29  Anders Carlsson  <andersca@gnu.org>

	* Release 1.116.0

2002-04-19  jacob berkman  <jacob@ximian.com>

	* COPYING: add

2002-04-16  Richard Kinder <r_kinder@yahoo.com>

	* bonobo/bonobo-stream-client.c
	(bonobo_stream_client_read): use g_try_malloc instead.

2002-04-12  Michael Meeks  <michael@ximian.com>

	* Version 1.115.0

2002-03-31  Havoc Pennington  <hp@pobox.com>

	* tests/test-stream-mem.c (test_read_write): trivial fix for
	non-buildage introduced by Murray's previous change. Bad Murray!
	(s/BONOBO_SEEK_CUR/SeekCur/)
	
2002-03-31  Murray Cumming  <murrayc@usa.net>

	* idl/Bonobo_Storage.idl:
	The Bonobo::Stream::Unknown::SeekType enum values are
	now e.g. SeekCur instead of SEEK_CUR.
	This was necessary because these values are already in
	#define macros in the global C namespace, somewhere in
	stdio.h.

2002-03-21  Stephane Demurget  <demurgets@free.fr>

	* bonobo/bonobo-event-source.c
	(bonobo_event_source_has_listener): efficiency fix.

2002-03-18  Michael Meeks  <michael@ximian.com>

	* Version 1.113.0

2002-03-15  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-event-source.c
	(bonobo_event_source_has_listener): impl.

2002-03-11  Changwoo Ryu  <cwryu@debian.org>

	* configure.in: Added 'ko' to ALL_LINGUAS.

2002-03-05  Michael Meeks  <michael@ximian.com>

	* doc/api/tmpl/bonobo-macros.sgml: mend.

	* bonobo/bonobo-types.c
	(bonobo_corba_object_type_register_static):
	ignore is_bonobo_unknown, we don't use this
	information and trust the user to do the Bonobo
	referencing right, or we're going to get lots
	of inefficiency from the way GValue works,
	particularly we need a 'take ownership' semantic
	for return values.
	Update throught to follow this convention.
	Assume CORBA_Object_duplicate is sane.
	(bonobo_closure_invoke): fix leak with return
	type - by using g_value_unset and a full copy.
	(corba_any_copy): remove debug, yes this
	inefficiency sucks - we never called this before.

2002-02-27  Mark McLoughlin  <mark@skynet.ie>

	* idl/Bonobo_Listener.idl: kill unused ListenerId
	typedef.

	* doc/debugging.txt: update ORBit2 debugging blurb.

2002-02-22  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-moniker-simple.c: make the parent_class
	static !

2002-02-19  Michael Meeks  <michael@ximian.com>

	* Version 1.112.0

2002-02-17  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-types.c
	(bonobo_closure_invoke_va_list): free the params
	array after use - doh.

2002-02-18  Gediminas Paulauskas <menesis@delfi.lt>

	* configure.in: remove GNOME_COMMON_INIT, GNOME_PLATFORM_GNOME_2
	macros to match latest gnome-common.

2002-02-17  jacob berkman  <jacob@ximian.com>

	* bonobo/bonobo-stream-memory.h
	(bonobo_stream_mem_create): return a
	BonoboObject instead of the deprecated
	BonoboStream typedef.

2002-02-15  Michael Meeks  <michael@ximian.com>

	* bonobo/Makefile.am: add disable deprecated flag.

2002-02-14  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-object.h (bonobo_object_ref):
	kill bogus G_STMT_START/END in the OBJECT_DEBUG
	bits.

	* bonobo/bonobo-object.c
	(bonobo_object_unref, bonobo_object_idle_unref),
	(bonobo_object_trace_refs, bonobo_object_ref):
	take a gpointer instead of a BonoboObject, to
	follow glib - reduces type casting without any
	checking relaxation.

2002-02-11  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-stream-memory.c
	(bonobo_stream_mem_create): return a
	BonoboObject instead of the deprecated
	BonoboStream typedef.

2002-02-11  Zbigniew Chyla  <cyba@gnome.pl>

	* configure.in (ALL_LINGUAS): Added pl (Polish).

2002-02-11  Michael Meeks  <michael@ximian.com>

	* Version 1.111.0

2002-02-11  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-storage.h: 
	* bonobo/bonobo-xobject.h: 
	* bonobo/bonobo-persist-file.h: 
	* bonobo/bonobo-persist-stream.h: add deprecated
	helpers where appropriate.

2002-02-09  Pauli Virtanen  <ptvirtan@cc.hut.fi>

	* configure.in (ALL_LINGUAS): Added "fi" (Finnish).

2002-02-08  Mark McLoughlin  <mark@skynet.ie>

	* bonobo/bonobo-item-handler.c:
	(bonobo_item_options_free): fix leak.

2002-02-07  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-moniker-util.c
	(moniker_id_from_nickname): ditto.

	* bonobo/bonobo-main.c (bonobo_main),
	(bonobo_main_quit): port fully.

	* bonobo/bonobo-moniker.c (impl_equal): ditto.

2002-02-04  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-property-bag.h
	(BONOBO_PROPERTY_WRITABLE): add for people who like
	sueing other people.

2002-02-01  Tomasz K³oczko  <kloczek@pld.org.pl>

	* monikers/Makefile.am: small fix for automake 1.5.

2002-01-29  Michael Meeks  <michael@ximian.com>

	* Version 1.110.0

2002-01-28  Alexander Shopov  <al_shopov@web.bg>

	* configure.in (ALL_LINGUAS): Added "bg" (Bulgarian).

2002-01-27  Emese Kovacs <emese@gnome.hu>

        * configure.in: Added Hungarian to ALL_LINGUAS

2002-01-21  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-generic-factory.c 
	(bonobo_generic_factory_destroy): don't unregister if noreg is set.
	(bonobo_generic_factory_construct_noreg): set noreg.
	(bonobo_generic_factory_init): upd.
	(bonobo_generic_factory_construct): upd.

2002-01-21  Michael Meeks  <michael@ximian.com>

	* idl/Bonobo_UI.idl: setAttr needs a component_name.

	* configure.in: bump version to 1.109.1

2002-01-18  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-object.c
	(bonobo_object_add_interface): correct aggregate
	ref count debug.

2002-01-17  Rodrigo Moya <rodrigo@gnome-db.org>

	* doc/api/tmpl/bonobo-object.sgml:
	* doc/api/tmpl/bonobo-xobject.sgml: changed to reflect the current
	situation with those 2 classes for libbonobo-2.0

2002-01-16  Johan Dahlin  <jdahlin@telia.com>

	* monikers/Makefile.am: Link libmoniker_std.so against
	bonobo/libbonobo-2.la to make python, which open dynamic libraries with
	RTLD_GLOBAL flag to dlopen, happy.

2002-01-15  Darin Adler  <darin@bentspoon.com>

	* bonobo/Makefile.am:
	* idl/Makefile.am: Missed a few spots when changing
	__BONOBO_COMPILATION to __Bonobo_COMPILATION.

2002-01-15  Johan Dahlin  <jdahlin@telia.com>

	* idl/Bonobo.idl: change __BONOBO_COMPILATION to
	__Bonobo_COMPILATION, so we use the same 'schema' as in
	bonobo-activation's idls.

	* idl/Bonobo_Moniker.idl: include Bonobo_Activation_types.idl since
	we're using GeneralError from that file.

2002-01-10  Michael Meeks  <michael@ximian.com>

	* Version 1.109.0

2002-01-09  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-moniker-util.c: add
	GNOME_Moniker_Config shortcut.

2002-01-10  Mark McLoughlin  <mark@skynet.ie>

	* bonobo/bonobo-moniker-util.c:
	(bonobo_moniker_util_parse_name): kill debug.

2002-01-08  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-types.c
	(bonobo_value_set_corba_typecode): impl.
	(bonobo_value_set_corba_object): impl.
	(bonobo_value_set_corba_environment): impl.

2002-01-08  Michael Meeks  <michael@ximian.com>

	* bonobo/libbonobo-2.0.pc.in (idlinclude): add.

2002-01-07  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-types.h (BONOBO_TYPE_UNKNOWN): 
	remove the SIGNAL_STATIC_SCOPE from the standard
	BONOBO_TYPE_whatevers, _Everyone_ should use
	BONOBO_TYPE_STATIC_... for their signal arguments,
	sigh, moan, groan - this should be the default.
	(BONOBO_TYPE_STRING): nice idea Martin - sadly has
	to go.

	* bonobo/bonobo-generic-factory.c
	(bonobo_generic_factory_new_generic): upd. to new type scheme.

	* bonobo/bonobo-item-container.c
	(bonobo_item_container_class_init): ditto.

	* bonobo/bonobo-moniker-simple.c (simple_resolve): ditto.

	* bonobo/bonobo-listener.c (bonobo_listener_class_init): ditto.

	* bonobo/bonobo-generic-factory.c
	(bonobo_generic_factory_new_generic): ditto.

2002-01-05  Mikael Hallendal  <micke@codefactory.se>

	* doc/NAMESPACE (subdomains): added Yelp
	
2002-01-04  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-event-source.c
	(bonobo_event_source_notify_listeners): add precondition.

2002-01-02  Michael Meeks  <michael@ximian.com>

	* idl/Bonobo_UI.idl: make deregisterComponent oneway.

2002-01-03 John Fleck <jfleck@inkstain.net>

	* configure.in, Makefile.am, doc/Makefile.am, doc/api/Makefile.am
	doc/api/libbonobo-decl-list.txt
	doc/api/libbonobo-decl.txt
	doc/api/libbonobo-docs.sgml
	doc/api/libbonobo-sections.txt
	doc/api/libbonobo-undocumented.txt
	doc/api/libbonobo-unused.txt
	doc/api/libbonobo.args
	doc/api/libbonobo.hierarchy
	doc/api/libbonobo.signals
	doc/api/tmpl/*.sgml
	adding gtk-doc api documentation infrastructure.

2002-01-03  Anders Carlsson  <andersca@gnu.org>

	* bonobo/bonobo-generic-factory.c 
	(bonobo_generic_factory_construct_noreg): 
	Allow a NULL factory_closure argument.
	(bonobo_generic_factory_destroy): Unregister the
	server in destroy instead of finalize since the CORBA Object has
	been destroyed in the finalize handler.

2001-12-30  Anders Carlsson  <andersca@gnu.org>

	* bonobo/bonobo-generic-factory.c (bonobo_generic_factory_finalize):
	Don't unref the factory_closure if it hasn't been created.

2002-01-03  jacob berkman  <jacob@ximian.com>

	* bonobo/bonobo-property-bag.c (bonobo_property_bag_map_params):
	use g_param_spec_get_(name|nick|blurb) to get the property name,
	doc title, and dock string

2002-01-02  Jens Finke  <jens@triq.net>

	* bonobo/bonobo-item-container.c
	(bonobo_item_container_class_init): Set struct offset with
	G_STRUCT_OFFSET, use bonobo_unknown_get_type as return value type.
	
2001-12-27  Duarte Loreto <happyguy_pt@hotmail.com>

        * configure.in: Added portuguese to ALL_LINGUAS

2001-12-27  Jesus Bravo Alvarez  <jba@pobox.com>

	* configure.in: Added gl (Galician) to ALL_LINGUAS.

2001-12-23  Takayuki KUSANO  <AE5T-KSN@asahi-net.or.jp>

	* configure.in: Added "ja" to ALL_LINGUAS.

2001-12-21  Michael Meeks  <michael@ximian.com>

	* idl/Bonobo_Control.idl: add getParentAccessible
	for Bill, in place of unImplemented3 - no ABI impact.

2001-12-17  Darin Adler  <darin@bentspoon.com>

	* bonobo/bonobo-generic-factory.c:
	(bonobo_generic_factory_finalize): Add null check.

2001-12-17  Mark McLoughlin  <mark@skynet.ie>

	* bonobo/bonobo-item-handler.c:
	(bonobo_marshal_POINTER__DUMMY_BOXED),
	(bonobo_marshal_BOXED__STRING_BOOLEAN_DUMMY_BOXED):
	actually pass the user_data argument to the callback.

2001-12-14  Mark McLoughlin  <mark@skynet.ie>

	* bonobo/bonobo-item-handler.c:
	(bonobo_item_option_new_append): impl.
	(bonobo_item_option_parse): re-write to handle corner cases
	better and be more readable.

2001-12-14  Mark McLoughlin  <mark@skynet.ie>

	* bonobo/bonobo-item-handler.c: (bonobo_item_handler_finalize),
	  (bonobo_item_handler_construct), (bonobo_item_handler_new):
	tolerate NULL get_object and enum_objects callbacks/closures.

2001-12-14  Mark McLoughlin  <mark@skynet.ie>

	* bonobo/bonobo-event-source.h,
	  bonobo/bonobo-generic-factory.h,
	  bonobo/bonobo-item-container.h,
	  bonobo/bonobo-item-handler.h, bonobo/bonobo-listener.h,
	  bonobo/bonobo-moniker-extender.h,
	  bonobo/bonobo-moniker-simple.h, bonobo/bonobo-moniker.h,
	  bonobo/bonobo-object.h, bonobo/bonobo-persist-file.h,
	  bonobo/bonobo-persist-stream.h, bonobo/bonobo-persist.h,
	  bonobo/bonobo-property-bag.h, bonobo/bonobo-shlib-factory.h,
	  bonobo/bonobo-storage-memory.h,
	  bonobo/bonobo-stream-memory.h, bonobo/bonobo-transient.h,
	  bonobo/bonobo-xobject.h, monikers/bonobo-moniker-query.h,
	  monikers/bonobo-stream-cache.h: kill C++ style comments.

2001-12-13  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-object.c (bonobo_object_ref),
	(bonobo_object_unref, bonobo_object_trace_refs),
	(bonobo_object_instance_init): keep track of total
	number of refs overall always.
	(bonobo_object_shutdown): upd. printout.

2001-12-11  Michael Meeks  <michael@ximian.com>

	* Version 1.108.0

2001-12-08  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-moniker.c (impl_resolve): make the
	failure more chatty.

	* bonobo/bonobo-exception.c: fix exception translation.

	* monikers/bonobo-moniker-oaf.c
	(bonobo_moniker_oaf_resolve): return some friendly
	activation type errors.

	* idl/Bonobo_Moniker.idl: return GeneralError from resolves.

	* doc/*: move documents across from bonobo 1.0,
	particularly NAMESPACE is now canonicaly here.

2001-12-06  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-object.c (bonobo_object_ref),
	(bonobo_object_unref): only alter the ref count if
	we're not immortal.

2001-12-07  Rodrigo Moya <rodrigo@gnome-db.org>

	* samples/echo/Makefile.am:
	* samples/echo/Bonobo_Sample_Echo.server.in.in: install components
	in $(prefix)/lib/bonobo-2.0/samples

2001-12-08  Abel Cheung  <maddog@linux.org.hk>

	* configure.in: Fix typo in GETTEXT_PACKAGE.

2001-11-28  jacob berkman  <jacob@ximian.com>

	* tests/Makefile.am (TESTS_ENVIRONMENT): prepend our new paths
	rather than replace them

2001-11-26  Michael Meeks  <michael@ximian.com>

	* Version 1.107.0

	* configure.in: bump reqs.

2001-11-23  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-main.c (bonobo_init_full): cope with
	NULL argc.

	* tests/test-moniker.c (main): regression test.

2001-11-19  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-object.c (do_corba_setup): prune
	the wasteful:
		CORBA_free (PortableServer_POA_activate_object (
			bonobo_poa (), &object->servant, &ev));
	for a speedup; assumes our POA supports implicit
	activation.

Tue Nov 20 21:14:15 2001  Owen Taylor  <otaylor@redhat.com>

	* bonobo/bonobo-arg.[ch] bonobo/bonobo-event-source.h
	bonobo/bonobo-generic-factory.[ch] bonobo/bonobo-item-container.c
	bonobo/bonobo-item-container.h bonobo/bonobo-item-handler.h
	bonobo/bonobo-listener.[ch] bonobo/bonobo-object.h 
	bonobo/bonobo-property-bag.h bonobo/bonobo-types.c: Remove
	unnecessary and soon to be disallowed includes of gobject/*.h.

2001-11-19  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-types.h: include glib-object.h

	* libbonobo.h: include bonobo-types.h

	* bonobo/Makefile.am: don't install the bonobo
	marshallers - new glib policy.

2001-11-14  Michael Meeks  <michael@ximian.com>

	* idl/Bonobo_UI.idl: add 'unimplemented' methods.

2001-11-18  Miles Lane  <miles@megapathdsl.net>

	* bonobo/bonobo-event-source.c
	bonobo/bonobo-generic-factory.c
	bonobo/bonobo-item-container.c
	bonobo/bonobo-item-handler.c
	bonobo/bonobo-listener.c
	bonobo/bonobo-main.h
	bonobo/bonobo-moniker-context.c
	bonobo/bonobo-object.c
	bonobo/bonobo-persist-file.c
	bonobo/bonobo-persist-stream.c
	bonobo/bonobo-persist.c
	bonobo/bonobo-running-context.c
	bonobo/bonobo-shlib-factory.c
	bonobo/bonobo-shlib-factory.h
	bonobo/bonobo-types.c
	tests/test-properties-server.c : replace occurances of 
        gobject/[gobject, gsignal, gvalue, gvaluearray].h with 
	glib-object.h, due to a change in these include files
        that forces an #error for all direct includes.  
        This checkin was approved by Havoc.

2001-11-14  Michael Meeks  <michael@ximian.com>

	* idl/Bonobo_Control.idl: include Bonobo_UI.idl
	rename getUIHandler to getUIContainer.
	add getWindowId, update setFrame, add
	add unImplemented placeholders.

2001-11-14  Michael Meeks  <michael@ximian.com>

	* libbonobo.h: include bonobo-macros.h

	* bonobo/bonobo-object.h: move new macros into

	* bonobo/bonobo-macros.h: here; create & pull in
	GNOME_BOILERPLATE bits -> BONOBO_BOILERPLATE.

	* bonobo/Makefile.am: add bonobo-macros.h

2001-11-12  Darin Adler  <darin@bentspoon.com>

	* bonobo/bonobo-object.h: Add BONOBO_CLASS_BOILERPLATE and
	BONOBO_CLASS_BOILERPLATE_FULL, which are Bonobo versions of
	GNOME_CLASS_BOILERPLATE.

2001-11-09  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-object.c (bonobo_object_finalize_gobject):
	add debug to stop people getting ref counting mixed up.

2001-11-09  ERDI Gergo  <cactus@cactus.rulez.org>

	* bonobo/bonobo-storage-memory.c (smem_rename_impl): 
	(smem_open_stream_impl): 
	(smem_open_storage_impl): Do proper ref/unref stuff (you have to
	bonobo_object_release_unref the return value of openStream/openStorage)

2001-11-07  ERDI Gergo  <cactus@cactus.rulez.org>

	* bonobo/bonobo-storage-memory.c (split_path): use new GLib
	g_strsplit API

	* tests/test-storage-mem.c: more intelligent counting of number of
	tests

2001-11-08  Michael Meeks  <michael@ximian.com>

	* idl/Bonobo_UI.idl: more spelling fixage from Darin.

	* bonobo/bonobo-exception.c
	(bonobo_exception_repoid_to_text): upd.

2001-11-08  Michael Meeks  <michael@ximian.com>

	* idl/Bonobo_UI.idl: spelling fix from Darin.

2001-11-06  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-moniker-simple.c (simple_finalize):
	chain to parent correctly.
	(bonobo_moniker_simple_class_init): setup parent.

	* bonobo/bonobo-main.c (bonobo_init_full): init glib
	with G_TYPE_DEBUG_OBJECTS.

2001-11-06  Michael Meeks  <michael@ximian.com>

	* idl/Bonobo_UI.idl: Add NonExistantAttr for Darin.

2001-11-05  Michael Meeks  <michael@ximian.com>

	* tests/test-storage-mem.c (main): fixup remaining
	tests, reflow, some seds, check all passed.

	* tests/Makefile.am (TESTS): add test-storage-mem.

2001-11-02  Michael Meeks  <michael@ximian.com>

	* Version 1.106.0

2001-11-01  Michael Meeks  <michael@ximian.com>

	* idl/Bonobo_Control.idl: kill getWindowId, return the Id
	the other way round - from setFrame.
	add getAccessible.

2001-11-01  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-object.h (bonobo_object_fast): impl. ultra
	fast method for casting an unknown servant / object to an
	BonoboObject. Make bonobo_object_from_servant faster too.

2001-11-01  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-moniker.c: big picture: remove double
	virtualization of lots of things.
	(impl_get_parent, impl_set_parent): upd.
	(bonobo_moniker_default_get_name): fold into
	(impl_get_name): here.
	(bonobo_moniker_default_set_name): fold into
	(impl_set_name): here.
	(bonobo_moniker_default_equal): fold into
	(impl_equal): here.
	(impl_bonobo_moniker_set_internal_name): remove debug.

	* bonobo/bonobo-storage-memory.c: radicaly re-organize.

	* bonobo/bonobo-storage-memory.h: remove bogus & inefficient
	double virtualization.

2001-11-01  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-object.c (bonobo_object_ref): tolerate
	NULL silently.
	(bonobo_object_unref): ditto & return NULL.
	(bonobo_object_trace_refs): upd.
	(bonobo_object_unref): fixup.
	(bonobo_object_release_unref): make symmetrical.

	* tests/test-object.c (main): upd.

2001-11-01  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-main.c (bonobo_shutdown): rename to
	(bonobo_debug_shutdown): to please Maciej, upd to use
	the new bonobo_activation shutdown API.

2001-10-30  jacob berkman  <jacob@ximian.com>

	* bonobo/libbonobo-2.0.pc.in (Cflags): 
	* bonobo/Makefile.am (libbonoboincludedir): 
	* Makefile.am (libincludedir): put headers in libbonobo-2.0 rather
	than gnome-2.0

2001-10-31  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-object.c (bonobo_unknown_ping): hold a
	CORBA ref on the object over the two methods we invoke,
	thanks to Ettore.

2001-10-31  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-moniker-simple.c (simple_resolve): make
	the return value SIGNAL_TYPE_STATIC

	* bonobo/bonobo-types.c (corba_object_proxy_lcopy_value):
	if G_BALUE_NOCOPY_CONTENTS, then just blit the pointer
	across instead of erroneously dupping; a pain to get this
	one.

	* bonobo/bonobo-object.c (bonobo_object_shutdown):
	return error status.

	* bonobo/bonobo-main.c (bonobo_shutdown): use error status.

	* bonobo/bonobo-generic-factory.c
	(bonobo_generic_factory_main): do an auto-exit unref
	on the factory.

2001-10-31  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-object.c
	(bonobo_object_class_init): fixup signal definition.
	(bonobo_object_check_env): fixup signal emission.
	(bonobo_marshal_VOID__CORBA_BOXED): impl.

	* bonobo/bonobo-types.c: use new ORB methods for
	exception handling.

	* tests/test-object.c (system_exception_cb): impl.
	(main): test bonobo_check_env.

2001-10-30  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-object.c (bonobo_object_ref): return
	the object you just reffed.

	* idl/Bonobo_Control.idl: getDesiredSize, return a
	Gtk::Requisition, update WindowId bits.
	add getToplevelId - to avoid ugly property hacks.
	Move State to Gtk. Make all 'set' methods oneway.

	* idl/Bonobo_Canvas.idl: Split out Gdk bits into:

	* idl/Bonobo_Gdk.idl: Add & add Gtk::Requisition.
	move windowId into here.

2001-10-29  jacob berkman  <jacob@ximian.com>

	* monikers/Makefile.am (server_DATA): s/XML_I18N_TOOLS/INTLTOOL/

	* bonobo/bonobo-main.c (bonobo_init_full): 
	* bonobo/bonobo-exception.c (GNOME_EXPLICIT_TRANSLATION_DOMAIN):
	use GETTEXT_PACKAGE

	* configure.in: package is "libbonobo" not "libbonobo2",
	intltoolize, use AM_GLIB_GNU_GETTEXT, and set GETTEXT_PACKAGE

	* acconfig.h: add GETTEXT_PACKAGE

	* Makefile.am (EXTRA_DIST): dist intltool things instead of
	xml-i18n-foo

2001-10-29  Seth Nickell  <snickell@stanford.edu>

	* monikers/bonobo-moniker-query.h:
	* monikers/bonobo-stream-cache.c: (bonobo_stream_cache_get_type):
	* monikers/bonobo-stream-cache.h:

	Run the magic scripts in the monikers directly too :-)
	
2001-10-28  Seth Nickell  <snickell@stanford.edu>

	* bonobo/bonobo-event-source.c: (bonobo_event_source_new):
	* bonobo/bonobo-event-source.h:
	* bonobo/bonobo-generic-factory.c:
	(bonobo_generic_factory_new_generic):
	* bonobo/bonobo-generic-factory.h:
	* bonobo/bonobo-item-container.c:
	* bonobo/bonobo-item-container.h:
	* bonobo/bonobo-item-handler.c: (impl_enum_objects),
	(impl_get_object):
	* bonobo/bonobo-item-handler.h:
	* bonobo/bonobo-listener.c: (impl_Bonobo_Listener_event),
	(bonobo_listener_new_closure):
	* bonobo/bonobo-listener.h:
	* bonobo/bonobo-moniker-context.c:
	* bonobo/bonobo-moniker-extender.c:
	* bonobo/bonobo-moniker-extender.h:
	* bonobo/bonobo-moniker-simple.c: (simple_resolve):
	* bonobo/bonobo-moniker-simple.h:
	* bonobo/bonobo-moniker.c:
	* bonobo/bonobo-moniker.h:
	* bonobo/bonobo-object.c: (bonobo_object_class_init):
	* bonobo/bonobo-object.h:
	* bonobo/bonobo-persist-file.c:
	* bonobo/bonobo-persist-file.h:
	* bonobo/bonobo-persist-stream.c:
	* bonobo/bonobo-persist-stream.h:
	* bonobo/bonobo-persist.c:
	* bonobo/bonobo-persist.h:
	* bonobo/bonobo-property-bag.c: (impl_Bonobo_PropertyBag_getValue),
	(impl_Bonobo_PropertyBag_getValues),
	(impl_Bonobo_PropertyBag_setValue),
	(impl_Bonobo_PropertyBag_setValues),
	(bonobo_property_bag_new_full):
	* bonobo/bonobo-property-bag.h:
	* bonobo/bonobo-running-context.c:
	* bonobo/bonobo-shlib-factory.c:
	* bonobo/bonobo-shlib-factory.h:
	* bonobo/bonobo-storage-memory.c:
	* bonobo/bonobo-storage-memory.h:
	* bonobo/bonobo-stream-memory.c: (bonobo_stream_mem_get_type):
	* bonobo/bonobo-stream-memory.h:
	* bonobo/bonobo-transient.c: (bonobo_transient_new):
	* bonobo/bonobo-transient.h:
	* bonobo/bonobo-xobject.h:

        Convert Bonobo TYPE macros from: 
	 
	BONOBO_..._TYPE to BONOBO_TYPE_...  
	 
	Add #defines to the old style for compatibility, but 
	add a magic comment so its easy to remove them in the  
	future. 
	 
	See also: http://www.stanford.edu/~snickell/bonobo_type_convert.pl 
	 
	(converts source code to use the new macros) 
	
2001-10-30  Michael Meeks  <michael@ximian.com>

	* libbonobo.h: add bonobo-stream-mem.h, bonobo-storage-memory.h

	* bonobo/bonobo-object.c (bonobo_object_query_local_interface):
	no point in a virtual query_interface, we have that with the
	epv overriding, kill wierd mess.
	(bonobo_object_get_local_interface_from_objref): kill
	convoluted mess.

2001-10-27  Michael Meeks  <michael@ximian.com>

	* idl/Bonobo_Control.idl: make activateURI and queueResize
	oneway methods.

2001-10-27 Dirk-Jan C. Binnema <djcb@djcbsoftware.nl>

	* bonobo/bonobo-moniker.c (bonobo_moniker_default_equal):
	fix leak.

2001-10-27  Michael Meeks  <michael@ximian.com>

	* tests/test-properties-client.c (print_props): 
	release the typecode.

	* bonobo/bonobo-object.c (bonobo_object_corba_deactivate): 
	remove stale code.

	* bonobo/bonobo-main.c (bonobo_shutdown): unref the
	ORB after the destroy.
	(bonobo_shutdown): release bonobo-activation's context,
	add support for moving this code into bonobo-activation.

2001-10-25  jacob berkman  <jacob@ximian.com>

	* idl/Makefile.am (Bonobo_module_la_LDFLAGS): also pass
	-avoid-version

2001-10-26  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-shlib-factory.h: remove prototypes I
	forgot.

2001-10-26  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-object.c (bonobo_object_instance_init).
	(bonobo_object_finalize_internal): keep track of total
	number of aggregate objects.
	(bonobo_object_init): setup the mutex.
	(bonobo_object_shutdown): always warn if we leaked.

	* tests/test-event-source.c (run_tests): fix ref. leak.

	* tests/test-properties-server.c (main): fix leaking
	context.

	* bonobo/bonobo-shlib-factory.c
	(bonobo_shlib_factory_new_generic): unref ourself after
	object creation, so we don't leave cruft lying around.
	(bonobo_shlib_factory_get_type): kill, replace with
	macro that does correct inheritance.
	(bonobo_shlib_factory_inc_live),
	(bonobo_shlib_factory_dec_live_cb),
	(bonobo_shlib_factory_dec_live),
	(bonobo_shlib_factory_track_object): kill.

	* bonobo/bonobo-generic-factory.c
	(impl_Bonobo_ObjectFactory_createObject): protect the
	maintainer.

2001-10-26  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-storage-memory.c: use NULL not 0 for
	pointers.
	(smem_open_stream): fix fatal bug.

	* bonobo/bonobo-main.c (bonobo_shutdown): release the
	poa_manager and the poa.

2001-10-26  Michael Meeks  <michael@ximian.com>

	* idl/Makefile.am (orbittypelibdir): move type library
	into the orbit-2.0 prefix.

	* bonobo/bonobo-exception.c
	(bonobo_exception_shutdown): fix warning.

2001-10-26  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-running-context.c
	(bonobo_running_context_shutdown): don't unref a ref
	we don't own.

	* bonobo/bonobo-property-bag-client.c
	(unref_default_bag): rename
	(bonobo_property_bag_shutdown): to this.
	remove locking.
	(get_default_bag): only do locking where neccessary
	for speed.

	* bonobo/bonobo-object.c
	(bonobo_object_tracking_shutdown): rename to
	(bonobo_object_shutdown): this & publicise.

	* bonobo/bonobo-running-context.c
	(running_info_destroy): rename to
	(bonobo_running_context_shutdown): this.

	* bonobo/Makefile.am (noinst_HEADERS): add
	bonobo-shutdown.h

	* bonobo/bonobo-main.c (bonobo_is_initialized): doc.
	(bonobo_shutdown): impl. ( a start at least )
	
	* bonobo/bonobo-generic-factory.c
	(bonobo_generic_factory_main): use bonobo_shutdown.

	* tests/test-stream-mem.c, tests/test-properties-server.c,
	tests/test-properties-client.c, tests/test-object.c,
	tests/test-event-source.c, tests/test-moniker.c (main):
	Add bonobo_shutdown.

	* tests/test-storage-mem.c (main): clean coding style &
	shutdown

2001-10-26  Michael Meeks  <michael@ximian.com>

	* tests/test-object.c (main): disable a test
	breaking ORB encapsulation.

	* bonobo/bonobo-shlib-factory.c
	(bonobo_shlib_factory_construct): use the noreg
	constructor - we don't register shlib servers.
	s/oaf_/act_/

	* bonobo/bonobo-generic-factory.c: s/oaf_iid/act_iid/
	clean up documentation.
	(bonobo_generic_factory_construct_noreg): impl.
	(bonobo_generic_factory_construct): use it.

2001-10-24  jacob berkman  <jacob@ximian.com>

	* bonobo/bonobo-shlib-factory.h: remove duplicate
	BONOBO_OAF_SHLIB_FACTORY_MULTI macro

2001-10-24  Michael Meeks  <michael@ximian.com>

	* monikers/bonobo-moniker-std.c: upd.

	* bonobo/bonobo-generic-factory.h
	(BONOBO_OAF_FACTORY): rename to
	(BONOBO_ACTIVATION_FACTORY): and add compat macros,
	use the generic_factory_main method, not a load of inline code.

	* bonobo/bonobo-generic-factory.c
	(bonobo_generic_factory_main): impl.

	* bonobo/bonobo-shlib-factory.h
	(BONOBO_ACTIVATION_SHLIB_FACTORY): similar renames.

	* bonobo/bonobo-shlib-factory.c (bonobo_shlib_factory_std): impl.

2001-10-21  jacob berkman  <jacob@ximian.com>

	* bonobo/bonobo-generic-factory.c
	(bonobo_generic_factory_construct): always return NULL if we don't
	successfully register with bonobo-activation

2001-10-20  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-arg.c (bonobo_arg_type_to_gtype),
	(bonobo_arg_type_from_gtype): quiet debug.

	* bonobo/bonobo-property-bag.c
	(bonobo_property_bag_new): tolerate NULL callbacks.
	(bonobo_property_bag_map_params): don't free pspecs we
	don't own.
	(bonobo_property_bag_foreach_remove_prop): only unref if
	callbacks're not NULL.
	(bonobo_property_bag_finalize): ditto.

2001-10-18  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-object.c (bonobo_object_dump_interfaces):
	re-write not to poke at obj->type_id.

	* tests/test-moniker.c (check_string): test 'equal' as well.

2001-10-18  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-property-bag.c
	(bonobo_property_bag_add_gtk_args): rename to
	(bonobo_property_bag_map_params): this & re-hash.

	* bonobo/bonobo-arg.c *gtk* rename to *gvalue* & clean.

	* bonobo/bonobo-types.c (corba_object_proxy_value_init): impl.

	* bonobo/bonobo-stream-client.c (bonobo_stream_client_read): 
	kill FIXME.

2001-10-18  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-object.c (bonobo_object_query_local_interface): 
	remove GType fiddling, just use CORBA_Object_is_a
	(bonobo_object_add_interface): Add some more powerful, but
	optional debug to catch people aggregating two instances of
	the same interface together, or the same two objects etc.
	(bonobo_track_shlib_objects): remove mess.

	* bonobo/bonobo-moniker-util.c (async_parse_cb): fix
	the callback; setName has no return value !

2001-10-17  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-persist-stream.c (impl_save),
	(impl_load): update sigs to kill warnings.

	* bonobo/bonobo-types.c
	(bonobo_value_get_corba_exception): return as const,
	you can't copy CORBA_Environments in a nice way.

	* bonobo/bonobo-moniker-util.c
	(bonobo_moniker_util_qi_return): fix theoretical
	uninit retval bug. and don't redundantly duplicate the
	returned CORBA_Object.

	* bonobo/bonobo-exception.c
	(bonobo_exception_general_error_set): impl.

	* tests/test-object.c (main): regression test it.

	* bonobo/bonobo-event-source.c
	(bonobo_event_source_client_add_listener_full): release
	the CORBA ref on the event source not just the bonobo one.

2001-10-13  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-moniker-util.c: kill all the ENABLE_ORBIT2 bits.

	* bonobo/bonobo-moniker-util.h: don't include bonobo-async.h

	* bonobo/Makefile.am (libbonobo_src): remove bonobo-async.[ch],
	dead - see ORBit2/src/orb/orb-core/orbit-small *Async*

2001-09-29  Iain Holmes  <iain@ximian.com>

	* bonobo/bonobo-listener.c (bonobo_listener_new): Check if the callback
	function is NULL, and if so, don't create a GClosure.

2001-10-05  Abel Cheung  <maddog@linux.org.hk>

	* monikers/Bonobo_Moniker_std.server.in.in: Havoc's patch
	  to rename libmoniker_std.so -> libmoniker_std_2.so,
	  avoiding conflict with bonobo 1.0.x .
	* monikers/Makefile.am: Ditto.

2001-09-27  Michael Meeks  <michael@ximian.com>

	* Version 1.103

2001-09-25  Mark McLoughlin  <mark@skynet.ie>

	* samples/echo/Makefile.am: s/orbit-idl/$(ORBIT_IDL).

2001-09-25  Michael Meeks  <michael@ximian.com>

	* tests/Makefile.am: hook test-properties up to run
	automaticaly.

	* tests/test-properties.sh: impl.

	* tests/test-properties-client.c (main): read IOR
	from 'iorfile'.

	* tests/test-properties-server.c (create_bag): dump
	the IOR into 'iorfile'

2001-09-24  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-property-bag-client.c (MAKE_SET_SIMPLE):
	use arg_new_from so we copy and don't start freeing memory
	we don't own later - sigh.

	* tests/test-event-source.c: fix signatures & (void)

	* bonobo/bonobo-types.c (bonobo_closure_invoke_va_list): 
	change sig. and split out return value handling.
	(bonobo_closure_invoke): move return value handling here
	where we can va_start again.

2001-09-22  Wang Jian  <lark@linux.net.cn>

	* configure.in(ALL_LINGUAS): Added zh_CN for Simplified Chinese.

2001-09-21  Havoc Pennington  <hp@redhat.com>

	* configure.in, autogen.sh: remove CERTIFIED_GNOMIE

2001-09-20  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-moniker-util.c
	(bonobo_moniker_util_unescape): fix bug escaping literal
	'\\' mis-counting as 2 escapes, where there is only a
	single escaped '\'

2001-09-20  Frank Belew  <frb@ximian.com>

	* configure.in: Removed AM_CONDITIONAL(FALSE...)

2001-09-20  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added Catalan (ca) language

2001-09-17  Havoc Pennington  <hp@redhat.com>

	* bonobo/bonobo-types.c (bonobo_closure_invoke_va_list): patch
	from Ariel Rios to fix on Alpha, PPC

	* bonobo/libbonobo-2.0.pc.in (idldir): update

	* idl/Makefile.am (idldir): change to datadir/idl/bonobo-2.0

2001-09-10  Alex Larsson <alexl@redhat.com>

	* bonobo/bonobo-types.c (bonobo_corba_any_get_type),
	(bonobo_corba_typecode_get_type),
	(bonobo_corba_exception_get_type): fix for recent glib
	breakage - you need HEAD glib.

2001-09-10  Frank Belew  <frb@ximian.com>

	* bonobo/bonobo-moniker.c 
	(impl_set_name): don't return in a void function

2001-09-10  Dan Winship  <danw@ximian.com>

	* bonobo/bonobo-event-source.c (bonobo_event_source_init): Use
	g_new0 to initialize event_source->priv to prevent uninitialized
	reads.

2001-09-10  Martin Baulig  <martin@gnome.org>

	* Version 1.102.0.

	* configure.in: Ooops, bump version number to 1.102.0.

2001-09-10  Martin Baulig  <martin@gnome.org>

	* configure.in: Require ORBit-2.0 >= 2.3.94 and glib-2.0 >= 1.3.7.

2001-09-10  Martin Baulig  <martin@gnome.org>

	* Bonobo/bonobo-types.c
	(bonobo_corba_any_get_type): Don't provide a `boxed_init' function.
	(bonobo_corba_exception_get_type): Likewise.
	(corba_any_init, corba_exception_init): Removed.

2001-09-10  Martin Baulig  <martin@gnome.org>

	* tests/test-moniker.c: The expected result of "a:!b:" is "!b:",
	not "b:" - see my ChangeLog entry for bonobo/bonobo-moniker-util.c
	(bonobo_moniker_util_parse_name) from 2001-08-11.
	
2001-09-09  Frank Belew <frb@ximian.com>

	* bonobo/bonobo-types.c: removed references to gbsearcharray
	  (otaylor@redhat.com)

2001-09-03  Jody Goldberg <jgoldberg@home.com>

	* bonobo/bonobo-stream-memory.c (mem_get_info) : CORBA does not like
	  NULL as a CORBA_String

2001-09-06  Mark McLoughlin  <mark@skynet.ie>

	* Makefile.am: change includedir to gnome-2.0/ as well.

2001-09-06  Anders Carlsson  <andersca@gnu.org>

	* bonobo/Makefile.am: Change includedir to gnome-2.0/ 
	instead of gnome/2/

	* bonobo/libbonobo-2.0.pc.in (Cflags): Likewise.

2001-09-04  Martin Baulig  <martin@gnome.org>

	This big closures / types patch:

	- GValues are not copied anymore in signal/closure marshallers
	(using G_SIGNAL_TYPE_STATIC_SCOPE / G_VALUE_NOCOPY_CONTENTS).

	- we use "real" types (not G_TYPE_POINTER) in all signal/closure
	marshallers.

	- some closures now have custom marshallers to make them easier
	to use for scripting languages.

	- bonobo_closure_invoke() no longer returns a GValue, it now takes
	the return type as first type argument, see the documentation in
	bonobo-types.c for details.

	Detailed list of changes:

	* bonobo/bonobo-types.h (BONOBO_TYPE_STRING,
	BONOBO_TYPE_CORBA_ANY, BONOBO_TYPE_CORBA_OBJECT,
        BONOBO_TYPE_CORBA_TYPECODE, BONOBO_TYPE_CORBA_EXCEPTION):
	Set the G_SIGNAL_TYPE_STATIC_SCOPE flag for all these types.
	(BONOBO_TYPE_STRING): New type.
	(BONOBO_TYPE_NONSTATIC_UNKNOWN, BONOBO_TYPE_NONSTATIC_CORBA_ANY,
        BONOBO_TYPE_NONSTATIC_CORBA_OBJECT, BONOBO_TYPE_NONSTATIC_CORBA_TYPECODE,
	BONOBO_TYPE_NONSTATIC_CORBA_EXCEPTION): Added #defines for the
	non-static versions of these types.

	* bonobo/bonobo-types.c (bonobo_value_set_unknown,
        bonobo_value_set_corba_any, bonobo_value_set_corba_typecode,
	bonobo_value_set_corba_environment): New functions; they do not
	copy their arguments and set the G_VALUE_NOCOPY_CONTENTS flag.
	(bonobo_closure_invoke_valist): Removed the `GValue *retval'
	argument, renamed `first_type' to `return_type'. The return value
	is now handled like a normal argument. For details, see the
	documentation in the source file.
	(bonobo_closure_invoke): Removed the `GValue *retval' argument,
	renamed `first_type' to `return_type'

	* bonobo/bonobo-generic-factory.c: Marshal the closure as
	OBJECT:STRING, not as POINTER:STRING.

	* bonobo/bonobo-item-container.c: Marshal the "get_object" signal
	as BOXED:STRING_BOOLEAN_BOXED (retval as BONOBO_TYPE_UNKNOWN, args
	are BONOBO_TYPE_STRING, G_TYPE_BOOLEAN, BONOBO_TYPE_CORBA_EXCEPTION);

	* bonobo/bonobo-item-handler.c: Provide custom marshallers for the
	`enum_objects' and `get_object' closures:
	- `enum_objects' returns a G_TYPE_POINTER and takes a
	BONOBO_ITEM_HANDLER_TYPE and a BONOBO_TYPE_CORBA_EXCEPTION.
	- `get_object' returns a BONOBO_TYPE_UNKNOWN and takes
	BONOBO_ITEM_HANDLER_TYPE, G_TYPE_STRING, G_TYPE_BOOLEAN and
	BONOBO_TYPE_CORBA_EXCEPTION arguments.

	* bonobo/bonobo-listener.c: Marshal the `event_callback' as
	VOID:STRING,BOXED,BOXED (BONOBO_TYPE_STRING, BONOBO_TYPE_CORBA_ANY,
	and BONOBO_TYPE_CORBA_EXCEPTION).

	* bonobo/bonobo-marshal.list: Removed all unused items and everything
	from libbonoboui.

	* bonobo/bonobo-moniker-simple.h (BONOBO_RESOLVE_FLAG_TYPE):
	New type; this is a GFlags type for Bonobo_ResolveFlag.
	(bonobo_resolve_flag_get_type): Added type init func for it.

	* bonobo/bonobo-moniker-simple.c: Provide a custom marshaller for
	the `resolve_fn' closure. Instead passing a Bonobo_ResolveOptions as
	G_TYPE_POINTER, the closure now takes its contents as two arguments:
	BONOBO_RESOLVE_FLAG_TYPE and G_TYPE_LONG.
	The closure returns a BONOBO_TYPE_CORBA_OBJECT and takes
	BONOBO_MONIKER_TYPE, BONOBO_RESOLVE_FLAG_TYPE, G_TYPE_LONG,
	BONOBO_TYPE_STRING, BONOBO_TYPE_CORBA_EXCEPTION as arguments.

	* bonobo/bonobo-object.c: Marshal the "system_exception" signal
	VOID:OBJECT,BOXED (BONOBO_OBJECT_TYPE | G_SIGNAL_TYPE_STATIC_SCOPE
	and BONOBO_TYPE_CORBA_EXCEPTION).

	* bonobo/bonobo-property-bag.c: Provide custom marshallers for the
	'get_prop' and `set_prop' closures:
	`get_prop' returns BONOBO_TYPE_CORBA_ANY and takes
	BONOBO_PROPERTY_BAG_TYPE,BONOBO_TYPE_CORBA_TYPECODE,
	G_TYPE_UINT, BONOBO_TYPE_CORBA_EXCEPTION.
	`set_prop' returns nothing and takes
	BONOBO_PROPERTY_BAG_TYPE, BONOBO_TYPE_CORBA_ANY, G_TYPE_UINT,
	BONOBO_TYPE_CORBA_EXCEPTION.

2001-08-31  Abel Cheung  <maddog@linux.org.hk>

	* configure.in (ALL_LINGUAS): zh_TW.Big5 -> zh_TW

2001-08-27  ERDI Gergo  <cactus@cactus.rulez.org>

	* bonobo/bonobo-object.c (bonobo_object_set_immortal): s/imortal/immortal/

2001-08-22  Rodrigo Moya <rodrigo@gnome-db.org>

	* bonobo/bonobo-arg.c (bonobo_arg_new_from): new function to create
	BonoboArg's from a given type and data

	* bonobo/bonobo-arg.h: added GET/SET macros for more CORBA types

2001-08-21 Dirk-Jan C. Binnema <djcb@djcbsoftware.nl>
	
	* bonobo/bonobo-main.c (bonobo_init_full): remove SIGPIPE handler;
	handle this in linc instead

	* bonobo/bonobo-moniker.c (all char* methods): return NULL instead
	of "" in case of failure, for consistency

2001-08-20  Maciej Stachowiak  <mjs@noisehavoc.org>

	* idl/Makefile.am: Fix violation of bonobo-activation's include
	guards to match new names.

2001-08-20  ERDI Gergo  <cactus@cactus.rulez.org>

	* idl/Bonobo_Clipboard.idl: more sensible argument order

2001-08-18  Michael Meeks  <michael@ximian.com>

	* idl/Makefile.am: build the Activation_types into our
	type library.

2001-08-18  Darin Adler  <darin@bentspoon.com>

	* bonobo/Makefile.am:
	* idl/Makefile.am:
	* monikers/Makefile.am:
	* tests/Makefile.am:
	Fix loose ends from last checkin and remove unnecessary -I
	directives to speed up compiles.

2001-08-18  Darin Adler  <darin@bentspoon.com>

	* configure.in: Add GLIB_GENMARSHAL variable.
	* bonobo/Makefile.am: Update marshal build rules to work in a
	simpler way.
	* idl/Makefile.am: Fix generated-source-file rules so they
	work well enough for "make distcheck".

2001-08-17  Michael Meeks  <michael@ximian.com>

	* monikers/bonobo-moniker-new.c
	(bonobo_moniker_new_resolve): kill warning on 'params'.

2001-08-17  Mikael Hallendal  <micke@codefactory.se>

	* bonobo/bonobo-property-bag.c 
	(impl_Bonobo_PropertyBag_setValue): Use PROPERTY_NO_AUTONOTIFY to
	check if we should notify listeners.
	(impl_Bonobo_PropertyBag_setValues): same.

	* idl/Bonobo_Property.idl: added PROPERTY_NO_AUTONOTIFY.

2001-08-17  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-event-source.c
	(bonobo_event_source_notify_listeners): hold a CORBA
	reference over the notification re-enterancy hazard.
	Homogenise opt_ev handling, to keep 'ev' consistant always.

2001-08-17  ERDI Gergo  <cactus@cactus.rulez.org>

	* bonobo/bonobo-event-source.c
	(bonobo_event_source_notify_listeners): Allow CORBA_OBJECT_NIL for
	the `value' argument

2001-08-16  Fatih Demir <kabalak@gtranslator.org>

	* configure.in: Added "tr" to the languages list.

2001-08-14  Michael Meeks  <michael@ximian.com>

	* monikers/bonobo-moniker-ior.c
	(bonobo_moniker_ior_resolve): impl - sweet.

	* monikers/Makefile.am: upd.

	* bonobo/bonobo-moniker-util.c
	(bonobo_moniker_util_qi_return): comment - looks like we
	have a redudant CORBA_Object_duplicate to me.

2001-08-14  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-property-bag-client.c
	(bonobo_pbclient_get_value): remove redundant cleanout: label

	* monikers/Makefile.am: s/oaf/server, update install dir.

	* bonobo/bonobo-property-bag.c (bonobo_property_bag_add_full):
	fix secondary 'add_full' closure store to use new marshaller.

2001-08-13  Michael Meeks  <michael@ximian.com>

	* idl/Makefile.am (Bonobo-imodule.c): fix itype lib build deps.

	* configure.in: bump to 1.101.2

	* tests/test-object.c: kill some warnings.

	* idl/Bonobo_UI.idl: add 'execVerb', 'uiEvent' for
	scripting bindings & macros.

	* bonobo/bonobo-exception.c (bonobo_exception_repoid_to_text):
	update to reflect new exceptions.

2001-08-11  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-property-bag-client.c
	(bonobo_pbclient_get_value): re-write to tolerate nulls
	silently and map tk_null -> NULL.

	* tests/test-object.c (main): add BONOBO_RET_EX regression
	tests.

	* bonobo/bonobo-exception.c
	(bonobo_exception_repoid_to_text): filled out the
	PropertyBag exceptions.

2001-08-11  Martin Baulig  <martin@gnome.org>

	* bonobo/bonobo-exception.h (BONOBO_RET_EX, BONOBO_RET_VAL_EX):
	Make the G_STMT_START/END actually work.

	* bonobo/bonobo-moniker-util.c (bonobo_moniker_util_parse_name):
	For the item moniker, the "!" is the first character or the
	return value.

2001-08-10  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-arg.h: bracket protect arg in GET/SET macros.

2001-08-09 Dirk-Jan C. Binnema <djcb@djcbsoftware.nl>

	* bonobo/bonobo-moniker.c (bonobo_moniker_get_name_escaped):
	return NULL in case of failure.

2001-08-08  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-types.c (bonobo_closure_store),
	(bonobo_closure_invoke): tolerate a NULL closure - as
	a noop.

	* bonobo/bonobo-generic-factory.h: do a UI init if we
	have LIBBONOBOUI_H defined.

2001-08-08  Michael Meeks  <michael@ximian.com>

	* configure.in: add samples/echo

	* message-of-doom: ameliorate.

2001-08-08  Darin Adler  <darin@bentspoon.com>

	* bonobo/Makefile.am: One more tweak to the dependency
	fix. We still need to include bonobo-marshal.c.

2001-08-08  Michael Meeks  <michael@ximian.com>

	* idl/Makefile.am: move typelib stuff here, add whacked out
	defines to get bonobo-activation code included in-line.

	* bonobo/Makefile.am: kill typelib building.

2001-08-08  Michael Meeks  <michael@ximian.com>

	* bonobo/Makefile.am: make dependency fix more portable
	with Peter Wainwright's solution.

2001-08-08  Martin Baulig  <martin@gnome.org>

	* bonobo/bonobo-moniker-util.c (bonobo_moniker_util_parse_name):
	Return "!" for the item moniker.

	* bonobo/bonobo-item-handler.c (impl_enum_objects): Fixed closure.
	(impl_get_objects): Ditto.

2001-08-08  Martin Baulig  <martin@gnome.org>

	* bonobo/bonobo-types.h (bonobo_value_get_*): Constify the arg.
	(BONOBO_TYPE_CORBA_TYPECODE): New type.

	* bonobo/bonobo-property-bag.c
	(bonobo_marshal_ANY__TYPECODE_UINT_POINTER): New static function.
	This is a custom marshaller for the Bonobo::PropertyBag's `get_prop'
	method - it takes a CORBA_TypeCode instead of the CORBA_any and
	returns a CORBA_any.
	(impl_Bonobo_PropertyBag_getValue): The closure now takes a
	CORBA_TypeCode and returns a CORBA_any.

2001-08-08  Cody Russell  <bratsche@gnome.org>

	* bonobo/*.[h]: Ensured that all _get_type () functions are
	declared as G_GNUC_CONST.

2001-08-07  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-listener.c (impl_Bonobo_Listener_event):
	0 terminate the list of arguments - argh.

	* bonobo/bonobo-property-bag.c
	(impl_Bonobo_PropertyBag_getValue),
	(impl_Bonobo_PropertyBag_getValues),
	(impl_Bonobo_PropertyBag_setValue),
	(impl_Bonobo_PropertyBag_setValues): ditto.

	* bonobo/bonobo-item-handler.c (impl_enum_objects),
	(impl_get_object): ditto.

2001-08-07  Michael Meeks  <michael@ximian.com>

	* Version 1.101.1

2001-08-07  Michael Meeks  <michael@ximian.com>
	
	* configure.in: depend on ORBit2 >= 2.3.93 for
	CORBA_TypeCode_equivalent

	* bonobo/bonobo-property-bag-client.c
	(bonobo_pbclient_get_value): use CORBA_TypeCode_equivalent so
	we ignore tedious alias problems.

	* bonobo/bonobo-property-bag.c (bonobo_property_bag_remove):
	impl - breaks API freeze, but c'est la vie - important
	method to have around.

	* bonobo/Makefile.am: really fixup dependencies, build
	the other things afterwards.

2001-08-07  Rodrigo Moya <rodrigo@ximian.com>

	* bonobo/Makefile.am: build $CORBA_SOURCES and $marshal_sources before
	the other source files

2001-08-07  Mark McLoughlin <mark@skynet.ie>

	* bonobo/bonobo-event-source.c,
	  bonobo/bonobo-main.c,
	  bonobo/bonobo-object.c: 
	Use CORBA_OBJECT_NIL instead of CORBA_Object_is_nil.

        * bonobo/bonobo-object.c
	(bonobo_object_finalize_servant): use bonobo_object to 
	get the BonoboObject from the servant.
	(bonobo_object_dup_ref): move NIL check up.
	(bonobo_object_query_local_interface): check for exception
	from CORBA_Object_is_a and treat an exception as a FALSE
	return.

2001-08-05  Michael Meeks  <michael@ximian.com>

	* Makefile.am: distribute changes.txt

2001-08-03  Michael Meeks  <michael@ximian.com>

	* Version 1.101.0

	* configure.in: use AM_GLIB_GNU_GETTEXT.

	* Makefile.am: prune intl.

2001-08-02  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-types.c (bonobo_closure_store): make this
	include the marshalers.

	* bonobo/bonobo-marshal-main.c: remove.

	* bonobo/Makefile.am: update the strange dependency rules.

2001-08-03  Abel Cheung  <maddog@linux.org.hk>

	* configure.in: Added zh_TW.Big5 (traditional Chinese) to ALL_LINGUAS.

2001-08-01  Michael Meeks  <michael@ximian.com>

	* Version 1.100.0

2001-08-01  Maciej Stachowiak  <mjs@noisehavoc.org>

	* bonobo/bonobo-generic-factory.c:
	(impl_Bonobo_ObjectFactory_createObject): Don't pass params argument.
	(bonobo_generic_factory_class_init): Remove `manufactures'
	* monikers/bonobo-moniker-new.c: (bonobo_moniker_new_resolve):
	Don't pass params argument.

2001-08-02  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-types.c (bonobo_value_get_unknown): fixup.

2001-08-01  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-types.c (bonobo_value_get_unknown): ref.
	(bonobo_value_get_corba_object): ref the thing
	(bonobo_value_get_corba_any): copy more inefficiency.
	(bonobo_value_get_corba_exception): knobble - just too broken.

2001-08-01  Michael Meeks  <michael@ximian.com>

	* monikers/bonobo-moniker-oaf.c: upd.

	* monikers/bonobo-moniker-query.c: upd.

	* idl/Bonobo.idl: upd.

	* bonobo/bonobo-generic-factory.c: become a BonoboObject; horay.

	* bonobo/bonobo-shlib-factory.h: ditto.

	* configure.in: use bonobo-activation.

2001-08-01  Martin Baulig  <martin@gnome.org>

	* bonobo/bonobo-moniker-util.c (bonobo_moniker_util_qi_return): Only
	throw an exception if the object is nil, but don't emit a g_warning().

2001-08-01  Michael Meeks  <michael@ximian.com>

	* tests/test-moniker.c (test_real_monikers): add a test from Martin
	(main): use it.

2001-08-01  Martin Baulig  <martin@gnome.org>

	* bonobo/bonobo-generic-factory.c (bonobo_generic_factory_construct):
	Use bonobo_marshal_POINTER__STRING, not g_cclosure_marshal_VOID__STRING
	as closure marshaller.
	(bonobo_generic_factory_new_generic): Use G_TYPE_POINTER as return value
	for the closure.

	* bonobo/bonobo-marshal.list: Changed BOXED:POINTER,STRING,POINTER to
	BOXED:POINTER,STRING,BOXED and added OBJECT:STRING.

	* bonobo/bonobo-moniker-simple.c (simple_moniker): Initialize the static
	GValue before calling g_value_init() on it or you'll get a core dump.

	* bonobo/bonobo-moniker-simple.c (bonobo_moniker_simple_construct): Use
	bonobo_marshal_BOXED__POINTER_STRING_BOXED, not
	bonobo_marshal_BOXED__POINTER_STRING_POINTER.

2001-08-01  Martin Baulig  <martin@gnome.org>

	* bonobo/bonobo-types.c (bonobo_corba_exception_get_type): We need to use
	a custom boxed type for BONOBO_TYPE_CORBA_ENVIRONMENT since it's not a
	CORBA::Object.

2001-08-01  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-main.h: fix broken include guards.

2001-07-31  Abel Cheung  <maddog@linux.org.hk>

	* configure.in: Added zh_TW.Big5 (traditional Chinese) to ALL_LINGUAS.

2001-07-31  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-object.h: include liboaf here.

	* libbonobo.h: not here.

	* bonobo/bonobo-moniker-extender.c,
	* monikers/bonobo-moniker-query.c,
	* monikers/bonobo-moniker-oaf.c,
	* monikers/bonobo-moniker-new.c, 
	* monikers/bonobo-moniker-extender-stream.c,
	* bonobo/bonobo-shlib-factory.c,
	* bonobo/bonobo-generic-factory.c,
	* bonobo/bonobo-exception.c,
	* bonobo/bonobo-moniker-util.c: prune liboaf.h includes.

2001-07-31  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-context.c (bonobo_context_init): register
	as the "Moniker" context instead.

	* idl/Bonobo_Context.idl: rename Activation -> Moniker context.

	* bonobo/bonobo-activation-context.[ch]: rename to

	* bonobo/bonobo-moniker-context.[ch]: this.

	* bonobo/Makefile.am: upd.

2001-07-30  ERDI Gergo  <cactus@cactus.rulez.org>

	* bonobo/Makefile.am (libbonoboinclude_HEADERS): removed duplicate
	bonobo-marshal.h entry

	* bonobo/bonobo-property-bag.h: Made some BonoboProperty fields
	public again

	* tests/test-properties-server.c: updated

	* configure.in: Bumped version number because of new GClosure APIs

	* bonobo/bonoob-item-handler.c: finalization fixes
	
	* bonobo/bonobo-marshal-main.c: Include <gobject/gboxed.h> to
	avoid compile-time warnings

	* bonobo/bonobo-moniker-simple.h: cleanup, privatization
	Maybe next time someone creates a new Bonobo object they can make
	it privatized form the beginning... grr...
	
	* bonobo/bonobo-shlib-factory.h: cleanup 

	* bonobo/bonobo-generic-factory.h: cleanup

	* bonobo/bonobo-property-bag.c: Completely privatized BonoboPoperty
	plus GClosure-ization
	
	* bonobo/bonobo-marshal.list: Added new signature for PropertyBag,
	MonikerSimple and ItemHandler callbacks
	
        * bonobo/bonobo-item-handler.c: Privatization, GClosure-ization

2001-07-30  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-exception.c (bonobo_exception_get_text):
	re-instate nice oaf exception reporting, should be a hashed handler
	though.

	* bonobo/bonobo-types.c
	(bonobo_value_get_corba_exception, bonobo_value_get_corba_object),
	(bonobo_value_get_corba_any, bonobo_value_get_unknown): impl.

	* bonobo/bonobo-moniker-simple.c (bonobo_moniker_simple_new): upd.
	(bonobo_moniker_simple_new_gc): impl.
	(bonobo_moniker_simple_construct): upd.
	(simple_finalize): impl.
	(bonobo_moniker_simple_class_init): hook up.
	(simple_resolve): upd - use invoke.

2001-07-30  Dietmar Maurer  <dietmar@ximian.com>

	* tests/test-moniker.c (check_parse_name): impl.
	(main): added more tests.

	* monikers/bonobo-moniker-query.c: this is now a simple moniker,
	since we have fixed moniker separators # and ! (no customisation
	possible) 

	* idl/Bonobo_Moniker.idl: renamed getDisplayName to getName,
	renamed parseDisplayName to setName, added getParent/setParent
	instead of a parent attribute.

	* bonobo/bonobo-moniker-util.c (bonobo_moniker_util_parse_name): impl.
	(bonobo_moniker_util_get_parent_name): ev is now optional
	(bonobo_moniker_client_new_from_name): implemented right to left
	moniker name parsing. This ensures the correct loading of shlib
	style monikers.
	(bonobo_moniker_client_get_name): ev is now optional
	(bonobo_moniker_client_resolve_default):  ev is now optional
	(bonobo_get_object): ev is now optional
	(bonobo_url_register): added check for ev != NULL
	(bonobo_url_unregister):  added check for ev != NULL
	(bonobo_url_lookup): added check for ev != NULL

	* bonobo/bonobo-moniker.c (bonobo_moniker_set_parent): ev is now
	optional 
	(bonobo_moniker_get_parent): ev is now optional 
	(bonobo_moniker_default_set_name): impl.

	* bonobo_moniker_util_new_from_name_full: removed, use
	bonobo_moniker_client_new_from_name instead.

	* bonobo/bonobo-activation-context.c
	(impl_Bonobo_ActivationContext_createFromName): removed
	createWithParent 

	* idl/Bonobo_Context.idl: removed createWithParent

2001-07-30  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-types.c (bonobo_closure_invoke_va_list):
	reset the Value's type to 0.

	* bonobo/bonobo-marshal.list: add STRING,ENUM,STRING.

	* bonobo/bonobo-event-source.c (create_listener_id): kill.
	(impl_Bonobo_EventSource_addListenerWithMask): upd.
	(impl_Bonobo_EventSource_removeListener): remove by equivalence
	and fix heinous bug.
	(bonobo_event_source_client_add_listener_gc): upd.
	(bonobo_event_source_client_add_listener): upd.

	* bonobo/bonobo-event-source.h: remove Id crufty.

	* idl/Bonobo_Listener.idl: re-vamp to fit a modern understanding
	of CORBA_Object_is_equivalent.

2001-07-30  ERDI Gergo <cactus@cactus.rulez.org>

	* bonobo/bonobo-generic-factory.c
	(bonobo_generic_factory_new): impl.
	(bonobo_generic_factory_new_gc): switch to gclosure.
	(bonobo_generic_factory_new_generic): update invocation
	mechanism.

	* bonobo/bonobo-event-source.c
	(bonobo_event_source_client_add_listener): gclosurize.
	(bonobo_event_source_client_add_listener_gc): move body here.

	* bonobo/bonobo-listener.c (impl_Bonobo_Listener_event): upd.
	(bonobo_listener_new): impl.
	(bonobo_listener_new_gc): move here.

	* bonobo/bonobo-shlib-factory.c (bonobo_shlib_factory_new): impl.
	(bonobo_shlib_factory_new_gc): impl.

2001-07-30  ERDI Gergo <cactus@cactus.rulez.org>

	Checked in Bonobo_Clipboard (now for real:)

2001-07-30  Jamil Geor <geor@ihug.co.nz>

	* bonobo/bonobo-stream-client.c (bonobo_stream_client_get_length):
	update to make exception environment optional.

2001-07-29  Maciej Stachowiak  <mjs@noisehavoc.org>

	* bonobo/Makefile.am: Remove references to Bonobo_Clipboard.idl
	since it appears to be missing.
	* idl/Bonobo.idl: Ditto.
	* idl/Makefile.am: Ditto.

2001-07-29  ERDI Gergo  <cactus@cactus.rulez.org>

	* configure.in: bumped version number (depend on 1.99.0 if you
	want to access the Clipboard)

	* idl/Bonobo_Clipboard.idl: Moved here from bonobo-clipboard (the
	implementation still resides there)

2001-07-29  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-types.c (bonobo_closure_invoke): impl.
	(bonobo_closure_invoke_va_list): impl.

2001-07-28  ERDI Gergo  <cactus@cactus.rulez.org>

	* bonobo/bonobo-generic-factory.c: removed bonobo_generic_factory_set

	* monikers/bonobo-moniker-std.c: Changed
	BONOBO_OAF_SHLIB_FACTORY_MULTI to BONOBO_OAF_SHLIB_FACTORY

	* configure.in: bumped version number because of
	BonoboGenericFactory API change

	* bonobo/bonobo-generic-factory.[ch]: Removed single/multi factory
	ambiguity. If you use a single factory, you will have to migrate
	to the multi factory setting (this should be very easy, just add a
	const char* argument to your factory callback function).
	Moved instance data to a private structure for more flexibility.

	* bonobo/bonobo-shlib-factory.[ch]: ditto

2001-07-28  Jamil Geor <geor@ihug.co.nz>

	* bonobo/bonobo-object.c (bonobo_object_query_interface), 
	(bonobo_unknown_ping): add opt_evs
	(bonobo_object_dup_ref): document opt ev as optional.
	(bonobo_object_release_unref): ditto.

	* bonobo/bonobo-moniker-extender.c (bonobo_moniker_find_extender): 
	make ev optional.
	(bonobo_moniker_use_extender): ditto.

	* changes.txt: update.

2001-07-28  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-object.c
	(bonobo_object_unref): special case imortal objects.
	(bonobo_object_trace_refs): ditto.
	(bonobo_object_set_imortal): impl.

2001-07-28  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-object.c (bonobo_object_dummy_destroy): impl
	to make chaining easier.
	(bonobo_object_class_init): hook up.

2001-07-27  Laszlo Peter  <laca@ireland.sun.com>

	* bonobo/bonobo-arg.h: fix BONOBO_ARG_SET_GENERAL for non-GNU
	C compilers.

2001-07-27  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-object.c (bonobo_object_destroy): fire
	a DESTROY signal, not a glib internal dispose signal !
	(bonobo_object_dispose): kill.
	(bonobo_object_class_init): unhook dispose.

	* bonobo/bonobo-moniker-util.c: update the table of builtin
	monikers.

	* monikers/Bonobo_Moniker_std.oaf.in.in: remove stale file &
	extender mis-information.

2001-07-26  Darin Adler  <darin@bentspoon.com>

	* tests/.cvsignore: Add test-storage-mem.

2001-07-26  ERDI Gergo  <cactus@cactus.rulez.org>

	* bonobo/bonobo-storage-memory.h: Virtualized implementations to
	make subclassing possible

	* bonobo/bonobo-persist-client.h: Client-side utility functions
	dealing with persistancy

2001-07-26  Michael Meeks  <michael@ximian.com>

	* bonobo/Makefile.am (libbonobo_2_la_SOURCES): update for
	new ORBit2 orbit-idl '--imodule' flag.

2001-07-26  Michael Meeks  <michael@ximian.com>

	* idl/Bonobo_UI.idl: add the setAttr / getAttr stuff...

2001-07-25  ERDI Gergo  <cactus@cactus.rulez.org>

	* bonobo/bonobo-stream-memory.h: Removed #define BonoboStorageMem
	that makes no sense now that we have a real thing

2001-07-24  ERDI Gergo  <cactus@cactus.rulez.org>

	* tests/test-storage-mem.c: Regression test for BonoboStorageMem

	* bonobo/bonobo-storage-memory.[ch]: New in-memory Bonobo::Storage
	implementation

2001-07-24  Martin Baulig  <martin@gnome.org>

	* bonobo/Makefile.am: Compile Bonobo_imodule.c into
	Bonobo_module.la and install it into $(prefix)/lib/orbit/.

2001-07-23  Martin Baulig  <martin@gnome.org>

	* bonobo/bonobo-moniker-util.c (url_to_name): Implemented
	this for ORBit2.

2001-07-09  Lutz Müller  <urc8@rz.uni-karlsruhe.de>

        * bonobo/bonobo-stream-memory.[c,h]: Make mem_[get,set]_info
        functional.

2001-07-22  Mike Kestner <mkestner@speakeasy.net>

	Added tag BEFORE_DOC_REWRITE prior to this commit.

	* bonobo/Makefile.am : remove Bonobo_ClientSite.idl from build.
	* bonobo/bonobo-exception.c : kill Bonobo_Embeddable exception strings
	* idl/Bonobo.idl : remove Bonobo_ClientSite.idl.
	* idl/Bonobo_Embeddable.idl : kill View, ViewFrame, and get Embeddable.
	Add the new CanvasComponentFactory and ControlFactory interfaces.
	* idl/Bonobo_ClientSite.idl : kill.
	* idl/Makefile.am : remove Bonobo_ClientSite.idl from build.
	
2001-07-21  ERDI Gergo  <cactus@cactus.rulez.org>

	* changes.txt (Bonobo_Persist): Added note about new getIId method

2001-07-21  Mike Kestner <mkestner@speakeasy.net>

	* changes.txt : Added blurb about isDirty changes.

	* bonobo/bonobo-persist.[ch] (impl_Bonobo_Persist_isDirty): new.
	(bonobo_persist_class_init): hook in the new method.
	(bonobo_persist_set_dirty): new accessor.

	* bonobo/bonobo-persist-stream.[ch] : kill isDirty

	* bonobo/bonobo-presist-file.[ch] : kill isDirty

	* idl/Bonobo_Persist.idl : Promote isDirty into the Persist base 
	interface.

2001-07-19  ERDI Gergo  <cactus@cactus.rulez.org>

	* tests/Makefile.am (TESTS): Added test-stream-mem

	* tests/test-stream-mem.c: New test to see if BonoboStreamMem
	works (currently, it looks like it doesn't)

2001-07-19  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-types.c (BONOBO_TYPE_CORBA_OBJECT_IMPL): fix
	redundant '##'s.

	* bonobo/bonobo-object.c: remove bonobo-object-directory include

	* bonobo/bonobo-object-directory.[ch]: remove.

2001-07-18  Michael Meeks  <michael@ximian.com>

	* bonobo/Makefile.am (libbonoboinclude_HEADERS): don't install /
	build bonobo-object-directory - it's horribly stale and old.

2001-07-18  Martin Baulig  <martin@gnome.org>

	* bonobo/bonobo-types.[ch]: New files.

	* bonobo/bonobo-object.h (BonoboObjectClass): Made "query_interface"
	a virtual method, not a signal.

2001-07-17  Michael Meeks  <michael@ximian.com>

	* bonobo/Makefile.am (libbonoboinclude_HEADERS): don't install
	bonobo-simple-source.h it's incredibly old and stale.

2001-07-17  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-main.c (bonobo_x_error_handler): kill,
	(bonobo_setup_x_error_handler): kill - in libbonoboui now.

	* bonobo/bonobo-object.c:
	s/bonobo_object_finalize_real/bonobo_object_finalize_gobject/
	s/bonobo_object_finalize/bonobo_object_finalize_internal/
	(bonobo_object_corba_deactivate): don't poa_fini_fn & split from
	(bonobo_object_finalize_gobject): here, prune corba deactivate.
	s/do_corba_hacks/do_corba_setup/
	(bonobo_object_instance_init): add a g_object ref here.
	(bonobo_type_setup): register servant finalization.
	(bonobo_object_finalize_servant): impl.
	(bonobo_object_slist_unref_all): actualy impl.

2001-07-14  Martin Baulig  <martin@gnome.org>

	* bonobo/libbonobo-2.0.pc.in (idldir): New variable.

	* configure.in: Require autoconf 2.50b and use PKG_CHECK_MODULES.

2001-07-13  Darin Adler  <darin@bentspoon.com>

	* bonobo/bonobo-arg.h:
	* bonobo/bonobo-arg.c: (bonobo_arg_is_equal): Take const BonoboArg *.

	* configure.in: Elminate redundant macros.

2001-07-12  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-generic-factory.c (init_generic_factory_corba_class):
	remove, unroll into
	(bonobo_generic_factory_class_init): here, setup the
	_base_epv.

2001-07-12  Martin Baulig  <martin@gnome.org>

	* bonobo/bonobo-marshal.list: Added `VOID:POINTER,STRING' and
	`VOID:STRING,INT,STRING'.

2001-07-11  Martin Baulig  <martin@gnome.org>

	* bonobo/bonobo-generic-factory.c (init_generic_factory_corba_class):
	Initialize `bonobo_generic_factory_vepv._base_epv'.

2001-07-05  Tim Mooney <mooney@dogbert.cc.ndsu.NoDak.edu>

	* bonobo/bonobo-exception.h (bonobo_return_if_fail,
	bonobo_return_val_if_fail): change __PRETTY_FUNCTION__ hold-over to
	glib-provided G_GNUC_PRETTY_FUNCTION.

	* doc/api/bonobo-decl.txt: same.

2001-07-11  Michael Meeks  <michael@ximian.com>

	* tests/test-object.c (main): expand to try and catch
	nasties - no joy.

	* bonobo/bonobo-moniker.c (bonobo_moniker_init): init
	the prefix to NULL.

2001-07-11  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-object.c (bonobo_object_dump_interfaces),
	(bonobo_type_setup): prune ENABLE_ORBIT2 paths.

	* bonobo/bonobo-arg.c (bonobo_arg_new): ditto.

	* bonobo/Makefile.am: don't build / install
	bonobo-transient, not used & complicates our transition
	to a new system.

2001-07-10  Michael Meeks  <michael@ximian.com>

	* configure.in: always define ENABLE_ORBIT2
	bump version to 1.97.0, require ORBit2 - from CVS.

2001-07-10  Michael Meeks  <michael@ximian.com>

	* tests/Makefile.am: remove test-storage - it's inside
	libgnome now.

	* bonobo/Makefile.am: remove bonobo-storage-plugin.[ch]

	* bonobo/bonobo-storage.h: horribly savage.

	* bonobo/bonobo-storage.c: remove all deprecated crud,
	except std. bonobo_storage_copy_to impl.

	* changes.txt: document the fun.

2001-07-09  Michael Meeks  <michael@ximian.com>

	* monikers/Makefile.am (libmoniker_std_la_SOURCES): remove
	bonobo-moniker-extender-file, bonobo-moniker-file: now in
	libgnome where they have a gnome-vfs dependency.

	* monikers/bonobo-moniker-std.c (bonobo_std_moniker_factory):
	remove file bits & re-enable query moniker.

	* monikers/bonobo-moniker-std.h: ditto.

2001-07-06  Michael Meeks  <michael@ximian.com>

	* tests/test-properties-client.c (create_bag_client): add call to
	bonobo_pbclient_set.

	* bonobo/bonobo-property-bag-client.c
	(bonobo_pbclient_set, bonobo_pbclient_get): impl.
	(bonobo_pbclient_getv): update to take typesafe name / type / value
	triplets instead of unsafe name / value pairs.
	(bonobo_pbclient_setv): ditto & bail when we hit an exception.

2001-07-06  Christian Rose  <menthos@menthos.com>

	* configure.in: Added sv to ALL_LINGUAS.

2001-07-02  Dietmar Maurer  <dietmar@ximian.com>

	* bonobo/bonobo-shlib-factory.c (bonobo_shlib_factory_track_object):
	s/g_signal_connectc/g_signal_connect/ 

	* bonobo/bonobo-running-context.c (bonobo_running_context_class_init): 
	s/g_signal_newc/g_signal_new/ s/g_signal_connectc/g_signal_connect/

	* bonobo/bonobo-listener.c (bonobo_listener_class_init):  
	s/g_signal_newc/g_signal_new/

	* bonobo/bonobo-item-container.c: s/g_signal_newc/g_signal_new/

	* idl/Bonobo_Property.idl: added flags to addDatabase

	* bonobo/bonobo-object.c: s/shutdown/dispose/ 
	s/g_signal_newc/g_signal_new/

Sat Jun 30 14:53:52 2001  Jonathan Blandford  <jrb@redhat.com>

	* tests/test-properties-server.c (main): Change to reflect new
	g_signal_connect_data signature.

	* bonobo/bonobo-main.c (bonobo_init_full): change to reflect new
	g_type_init () signature.

2001-06-28  Dietmar Maurer  <dietmar@ximian.com>

	* bonobo/bonobo-property-bag-client.c: bug fix: cast to
	CORBA_boolean intead of gboolean.

2001-06-28  Michael Meeks  <michael@ximian.com>
	[ also by Laszlo PETER <Laszlo.Peter@ireland.sun.com> ]

	* bonobo/bonobo-object.h: update for new glib paths, we require
	HEAD glib now.

	* bonobo/bonobo-main.c: ditto.

	* libbonobo.h: upd.

	* *.c: add more string.h includes.

2001-06-27  Michael Meeks  <michael@ximian.com>

	* bonobo/Makefile.am: add bonobo-storage / stream plugin.

	* tests/test-storage.c (main): don't test efs.

2001-06-26  Michael Meeks  <michael@ximian.com>

	* configure.in: add --enable-orbit2=[yes/no]

	* orbit2-convert.pl: fix some buglets.

	* bonobo/bonobo-arg.c (bonobo_arg_new): port to new DynamicAny
	conditionaly.

	* bonobo/bonobo-async.c: disable for ORBit2.

	* bonobo/bonobo-moniker-util.c (bonobo_string_to_CosNaming_Name):
	impl for ORBit2 case. (url_to_name): trash for ORBit2 - FIXME.

	* bonobo/bonobo-object.c (bonobo_object_dump_interfaces): upd.
	(bonobo_type_setup): init base_epv for ORBit2.

	* bonobo/bonobo-object.h: Add PortableServer_ServantBase__epv
	for both cases - only used in ORBit2 version.

	* bonobo/bonobo-property-bag-client.c: renamed all TC_ duffness.

	* bonobo/bonobo-transient.c: disabled for ORBit2 - not used
	anyway.

	* *.c: added lots of missing string.h includes.

2001-06-26  Fatih Demir <kabalak@gtranslator.org>

	* configure.in: Added ta to the languages list.

2001-06-21  ERDI Gergo  <cactus@cactus.rulez.org>

        * idl/Bonobo_Persist.idl: Added new getIId method to
        Bonobo::Persist

        * bonobo/bonobo-persist.[ch]:
        * bonobo/bonobo-persist-file.[ch]:
        * bonobo/bonobo-persist-stream.[ch]: Added code to support
        Bonobo::Persist::getIID

        * bonobo/bonobo-persist-stream.[ch]: Since new arguments are added
        to _new and _construct, I removed the legacy dummy argument

2001-06-19  Peter Williams  <peterw@ximian.com>

	* bonobo/bonobo-property-bag.c (bonobo_property_bag_add_gtk_args): 
	Update to match new GObject property retrieval API.

2001-06-19  Héctor García Álvarez <hector@scouts-es.org>

	* configure.in: added "es" for Spanish to $ALL_LINGUAS

2001-06-15  Dietmar Maurer  <dietmar@ximian.com>

	* monikers/bonobo-stream-cache.c (cache_setInfo): return void

	* bonobo/bonobo-property-bag.c (bonobo_property_bag_add): return void

	* bonobo/bonobo-moniker.c (impl_set_parent): don't return a value,
	because function is void.

2001-06-13  Stanislav Visnovsky  <visnovsky@nenya.ms.mff.cuni.cz>

	* configure.in: added "sk" for Slovak to $ALL_LINGUAS

2001-06-07  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: added "az", and Norwegian to $ALL_LINGUAS

2001-06-06  Dietmar Maurer  <dietmar@ximian.com>

	* bonobo/Makefile.am ($(CORBA_SOURCE)): removed --small option

	* idl/Bonobo_Property.idl: removed that unused filter_path

2001-06-05  Dietmar Maurer  <dietmar@ximian.com>

	* bonobo/bonobo-event-source.c
	(bonobo_event_source_client_remove_listener): removed
	Bonobo_Property_ code

2001-06-04  Peter Williams  <peterw@ximian.com>

	* configure.in (OAF_IDL_DIR): Grab oaf's IDL directory for use with
	orbit-idl later.
	(utility_conditional): Remove a duplicate of the "utility 
	conditional"
	
	* bonobo/Makefile.am (idl_flags): Use OAF_IDL_DIR here.
	
2001-06-01  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-event-source.c (bonobo_event_source_destroy):
	make it cope with the list changing under it.
	(impl_Bonobo_EventSource_removeListener): fix heinous g_slist
	usage issues - gack.

2001-05-30  Christophe Merlet  <redfox@eikonex.org>

	* configure.in: added fr to $ALL_LINGUAS

2001-05-30  Dietmar Maurer  <dietmar@ximian.com>

	* bonobo/bonobo-property-bag-client.c (unref_default_bag): added a
	mutex to make it thread save.

2001-05-28  Dietmar Maurer  <dietmar@ximian.com>

	* bonobo/bonobo-property-bag-client.c (get_default_bag): impl.
	we can pass CORBA_OBJECT_NIL to all bonobo_pbclient_* functions
	(and we use the default property bag in that case).

2001-05-19  Martin Baulig  <martin@gnome.org>

	* bonobo/bonobo-generic-factory.h
	(BONOBO_OAF_FACTORY, BONOBO_OAF_FACTORY_MULTI): Make this actually work.

	* bonobo/bonobo-main.c (bonobo_init_full): Call oaf_init(), not
	oaf_orb_init() so that oaf gets the command line arguments.

2001-05-15  Martin Baulig  <martin@gnome.org>

	* bonobo/Makefile.am (ORBIT_IDL): Use @ORBIT_IDL@ rather than
	hardcoding `orbit-idl'.

2001-05-04  Dietmar Maurer  <dietmar@ximian.com>

	* bonobo/bonobo-xobject.h: use G_BEGIN/END_DECLS

2001-05-03  Dietmar Maurer  <dietmar@ximian.com>

	* bonobo/bonobo-property-bag-client.[ch]: complete new code.

	* idl/Bonobo_Property.idl: rewrote the idl. 

	* bonobo/bonobo-event-source.c
	(bonobo_event_source_client_remove_listener): we dont have
	Property object anymore - removed that code.
	(bonobo_event_source_client_add_listener): removed Property code.

	* bonobo/bonobo-property-bag.[ch]: new implementation. 

	* idl/Bonobo_ConfigDatabase.idl: removed, we use the new
	PropertyBag instead

2001-05-03  Michael Meeks  <michael@ximian.com>

	* monikers/bonobo-stream-cache.[ch]: port to HEAD.

	* bonobo/bonobo-stream-memory.c (bonobo_stream_mem_get_type):
	fix class size buglet

	* monikers/bonobo-stream-cache.c (create_stream_cache_server):
	kill.

2001-05-02  Michael Meeks  <michael@ximian.com>

	* tests/Makefile.am: add test-object

	* tests/test-object.c: add from HEAD bonobo test-xobject

2001-05-02  Michael Meeks  <michael@ximian.com>

	* Serious cruft cleaning - kill unused things.

	* bonobo/bonobo-persist-stream.c (impl_get_size_max): kill.
	(bonobo_persist_stream_class_init): kill.
	(bonobo_persist_stream_size_unknown): kill.
	(bonobo_persist_stream_new),
	(bonobo_persist_stream_construct): upd.

	* idl/Makefile.am: kill Bonobo/Advise,
	Bonobo/ProgressiveDataSink, Bonobo/DesktopWindow

2001-05-02  Michael Meeks  <michael@ximian.com>
	
	* bonobo/Makefile.am: remove bonobo-object-io.[ch],
	bonobo-object-client.[ch]

	* libbonobo.h: remove bonobo-object-client.h

	* bonobo-object-client.[ch]: kill totaly.

	* bonobo/bonobo-moniker-util.c
	(bonobo_moniker_client_resolve_client_default): removed

2001-05-01  Michael Meeks  <michael@ximian.com>

	* bonobo/Makefile.am: improve IDL compilation dependency
	code.

2001-05-01  Martin Baulig  <martin@gnome.org>

	* bonobo/Makefile.am (libbonobo_2_la_SOURCES): Added
	bonobo-object-directory.c.

	* bonobo/bonobo-object-directory.c
	(bonobo_directory_find_for_file): #ifdef FIXME this whole
	function.

2001-04-23  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-generic-factory.h: Remove redundant
	environments

2001-04-24  Martin Baulig  <martin@gnome.org>

	* bonobo/bonobo-marshal.list: Added `VOID:STRING,BOOLEAN' and
	`VOID:POINTER,INT,POINTER' (for libbonoboui).

2001-04-23  Martin Baulig  <martin@gnome.org>

	* bonobo/bonobo-generic-factory.h (BonoboGenericFactory):
	Added `GNOME_ObjectFactory corba_objref'.
	(bonobo_generic_factory_corba_objref): New global function.
	(bonobo_generic_factory_corba_object_create): Changed return
	type from CORBA_Object to GNOME_ObjectFactory.
	(bonobo_generic_factory_construct): Changed type of the
	`corba_factory' argument from CORBA_Object to GNOME_ObjectFactory.

	* bonobo/bonobo-generic-factory.c: Make this actually work.
	* bonobo/bonobo-shlib-factory.c: Likewise.

2001-04-20  Martin Baulig  <martin@gnome.org>

	* configure.in, Makefile.am: Added idl/ directory.

2001-04-20  Michael Meeks  <michael@ximian.com>

	* bonobo/Makefile.am: add bonobo-config-database.[ch]

	* bonobo/bonobo-config-database.[ch]: add from bonobo-conf

	* idl/Makefile.am: add Bonobo_ConfigDatabase.idl

	* idl/Bonobo_ConfigDatabase.idl: add.

2001-04-19  Michael Meeks  <michael@ximian.com>

	* bonobo/Makefile.am: don't install the old no-inst
	headers.

2001-04-18  Michael Meeks  <michael@ximian.com>

	* bonobo/Makefile.am: remove bonobo-defs.h - unneccessary.
	remove half cocked libbonoboh.

	* bonobo/libbonobo.h: remove.

	* *.[ch] [ except bonobo-xobject.h - for compat ]
	
	s/bonobo_x_object/bonobo_object/g;
	s/BONOBO_X_/BONOBO_/g;
	s/BonoboXObject/BonoboObject/g;
	s/BEGIN_BONOBO_DECLS/G_BEGIN_DECLS/g;
	s/END_BONOBO_DECLS/G_END_DECLS/g;
	s/\#include[ \t]*<bonobo\/bonobo-defs.h>//;
	s/bonobo-xobject/bonobo-object/g;
	
2001-04-18  Michael Meeks  <michael@ximian.com>

	* tests/*.c: update initializations.

	* bonobo/bonobo-main.c (bonobo_init): add g_type_init.
	(bonobo_init): add oaf_orb_init, update sig. rename to
	(bonobo_init_full): this and add (bonobo_init).

2001-04-18  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-main.c (bonobo_init): guard against double
	initialization.

2001-04-18  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-object.c (bonobo_object_destroy): remove
	destroy_id fiddling.
	(bonobo_object_usage_error): remove for now.

	* bonobo/bonobo-transient.c (bonobo_transient_get_type): use
	sizeof (BonoboTransientClass) for the class data.

2001-04-18  Martin Baulig  <martin@gnome.org>

	* configure.in: Removed one of the two GNOME_COMPILE_WARNINGS
	macros; we only need it once.

2001-04-18  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-stream.h: add back to build for compat,
	include bonobo-storage.h

	* bonobo/bonobo-running-context.c (bonobo_running_context_new): 
	connect to final_unref.

	* bonobo/bonobo-object.c (bonobo_object_instance_init): fix
	thinko.
	(bonobo_object_class_init): add more useful assertions and
	add "destroy" signal - this sucks but is very compatible.
	(bonobo_object_shutdown): impl.

2001-04-18  Michael Meeks  <michael@ximian.com>

	* tests/test-storage.c (stream_copy_tests): prune copyTo
	test.

2001-04-18  Martin Baulig  <martin@gnome.org>

	* bonobo/*.[ch]: Use <bonobo/bonobo-defs.h> and
	<bonobo/bonobo-i18n.h> instead of the libgnomebase ones.

	* bonobo/bonobo-main.c (bonobo_setup_x_error_handler):
	#ifdef'ed this out.

	* bonobo/bonobo-defs.h, bonobo/bonobo-i18n.h: New files.

	* bonobo/libbonobo-init.[ch]: Removed.

	* configure.in: Don't depend on libgnomebase.

2001-04-18  Martin Baulig  <martin@gnome.org>

	* configure.in: Depend on ORBit-CosNaming-2 and include it in
	the ORBit check.

	* bonobo/libbonobo-2.0.pc.in: Added ORBit-CosNaming-2 to the
	dependency list.

2001-04-17  Michael Meeks  <michael@ximian.com>

	* bonobo/Makefile.am (libbonobo_2_la_SOURCES): add
	bonobo-property-bag-xml.c

	* Makefile.am: add libbonobo.h

2001-04-17  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-property-bag-xml.h: include bonobo-node.h

	* bonobo/bonobo-node.[ch]: create from bonobo-ui-node,
	renaming to suit.
	(do_strip): Adapt for libxml2.

	* tests/*: fixup.

2001-04-18  Martin Baulig  <martin@gnome.org>

	* bonobo/bonobo-item-container.[ch]: Ported to GObject.

	* bonobo/bonobo-marshal.list: Added `POINTER:POINTER,BOOLEAN,POINTER'
	and `BOOLEAN:POINTER'.

2001-04-17  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-generic-factory.c (bonobo_generic_factory_corba_object_create): 
	upd.
	(activate_servant): drag in from old bonobo-object.
	(bonobo_generic_factory_corba_object_create): upd.

2001-04-17  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-object.c (bonobo_object): impl.
	(bonobo_object_finalize_real): upd.
	(do_corba_hacks): move from bonobo_xobject.c
	(bonobo_object_get_refs): kill.

	* bonobo/Makefile.am: remove bonobo-xobject.c, leave only the
	header for compat.

	* bonobo/bonobo-object.c (bonobo_object_get_epv): kill.
	(bonobo_object_construct, bonobo_object_new_from_servant),
	(bonobo_object_bind_to_servant, bonobo_object_activate_servant),
	(bonobo_object_activate_servant_full): kill.

2001-04-17  Michael Meeks  <michael@ximian.com>

	* idl/Bonobo_Storage.idl: kill copyTo - its Broken!

	* bonobo/bonobo-stream-memory.c (bonobo_stream_mem_class_init): 
	fill epv.
	(bonobo_stream_mem_create): upd.
	(bonobo_stream_mem_get_type): we're a BonoboXObject.
	(bonobo_stream_mem_construct): upd.

	* bonobo/bonobo-stream.c (bonobo_stream_open): kill
	(bonobo_stream_open_full): rename to (bonobo_stream_open): this.

	* changes.txt: add doc on changes between Bonobo 1.0 and 2.0

2001-04-17  Michael Meeks  <michael@ximian.com>

	* autogen.sh: fixup so we configure, always dump the message of
	doom.

	* message-of-doom: make more explicit and doomful.

2001-04-17  Martin Baulig  <martin@gnome.org>

	* tests/Makefile.am: New file; this is almost empty at the moment.

2001-04-17  Martin Baulig  <martin@gnome.org>

	* bonobo/*.[ch]: Ported to GObject.

	* bonobo/bonobo-exception.h (BONOBO_EX_REPOID): New macro.

	* bonobo/bonobo-marshal-main.c: New file.
	* bonobo/bonobo-marshal.list: New file.

	* bonobo/libbonobo-init.c: New file.
	* bonobo/libbonobo-init.h: New public header file; you only need to
	include this to get the module initialization stuff.

	* bonobo/libbonobo.h: New public header file; if you're only using
	libbonobo (and not libbonoboui), use <bonobo/libbonobo.h> instead of
	<bonobo/bonobo.h>. There'll also be <bonobo/libbonoboui.h> in
	libbonoboui - and <bonobo/bonobo.h> will include both of them.

	* bonobo/bonobo-main.c (bonobo_main_quit): New function.

2001-04-17  Martin Baulig  <martin@gnome.org>

	* configure.in: Check for gobject and gthread.

2001-04-15  Martin Baulig  <martin@gnome.org>

	* configure.in: Added check for dladdr() from bonobo/configure.in
	and require libgnomebase.

2001-04-13  Martin Baulig  <martin@gnome.org>

	* bonobo/Makefile.am: Added simple Makefile.am.

	* bonobo/libbonobo-2.0.pc.in: New file.

2001-04-13  Martin Baulig  <martin@gnome.org>

	* AUTHORS, DEPENDS, HACKING, MAINTAINERS, NEWS, COPYING.LIB,
	README, TODO, TRANSLATABLE_FILES, USERS, OChangeLog-2000-12-11:
	Copied here from bonobo.

	* OChangeLog-2001-04-13: Copied here from bonobo/ChangeLog.

